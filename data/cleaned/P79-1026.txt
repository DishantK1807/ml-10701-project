NATURAL LANGUAGE INPUT TO A COMPUTER-BASED GLAUCOMA CONSULTATION SYST~ Victor B.
Cieslelski, Department of Computer Science, Rutgers University.
New Brunswick, N.
J. Abstract: A "Front End" for a Computer-Based Glaucoma Consultation System is described.
The system views a case as a description of a particular instance of a class of concepts called "structured objects" and builds up a representation of the instance from the sentences in the case.
The information required by the consultation system is then extracted and passed on to the consultation system in the appropriately coded form.
A core of syntactlc, semantic end contextual rules which are applicable to all structured objects is being developed together with a representation of the structured object GLAUCOMA-PATIENT.
There is also a facility for adding domain dependent syntax, abbreviations and defaults.
system that has a core of syntax and semantics that is applicable to all structured objects and which can be extended by domain specific syntax, idioms and defaults.
Considerable work on the interpretation of hospital discharge summaries, which are very similar to case descriptions, has been done by a group at NYU \[Sager 1978\].
Their work has focused on the creation of formatted data bases for subsequent question answering and is syntax based.
The research reported here is concerned with extracting from the case the information understandable by a consultation system and is primarily knowledge based.
I. STRUCTURED OBJECTS During the past decade a number of Medical Consultation systems have been developed, for example INTERNIST \[Pople.
Myers and Miller 1973\], CASNET/GLAUCOMA \[Weiss st.
al. 1978\], MYCIN \[Shortliffe 1976\].
Currently still others are being developed.
Some of these programs are reaching a stage where they are being used in hospitals and clinics.
Such use brings with it the need for fast and natural communication with these programs for the reporting of the "clinical state" of the patient.
This includes laboratory findings, symptoms, medications and certain history data.
Ideally the reporting would be done by speech but this is currently beyond the state of the art in speech understanding.
A more reasonable goal is to try to capture the physicians" written "Natural Language" for describing patients and to write programs to convert these descriptions to the appropriate coded input to the consultation systems.
The original motivation for this research came from the desire to have natural language input of cases to CASNET/GLAUCOMA a computer-based glaucoma consultation system developed at Retgers University.
A case is several paragraphs of sentences, written by a physician, which describe a patient who has glaucoma or who is suspected of having glaucoma.
It was desired to have a "Natural Language Front-End" which could interpret the cases and pass the content to the consultation system.
In the beginning stages it was by no means clear that it would even be possible to have a "front end" since it was expected that some sophisticated knowledge of Glaucoma would be necessary and that feedback from the consultation system would be required in understanding the input sentences.
However during the course of the investigation it became clear that certain generalizations could be made from the domain of Glaucoma.
The key discovery was that under some reasonable assumptions the physic iane notes could be viewed as descriptions of instances of a class of concepts called structured oblects and the knowledge needed to interpret the notes was mostly knowledge of the relationship between language and structured objects rather than knowledge of Glaucoma.
This observation changed the focus of the research somm~at to the investigation of the relationship between language and structured objects with particular emphasis on the structured object GLAUCOMA-PATIENTo This change of focus has resulted in the development of a A structured object is like a template \[Sridharan 1978\] or unit \[gobrow and Winograd 1977\] or concept \[Brachman 1978\] in that it implicitly defines a set of instances.
It is characterized by a biererchial structure.
This structure consists of other structured objects which are components (not sub-concepts\[).
For example the structured obJect PATIENT-LEFT-EYE is a component of the structured object PATIENT.
Structured objects also have attributes, for exemple PATIENT-SEX is an attribute of PATIENT.
Attributes can have numeric or non-nemeric vAlues.
Each attribute has an associated "measurement concept" which defines the set of legal values, units etc.
A structured object is represented as a.
directed graph ~here nodes represent components and attributes, and arcs represent relations between the concept* and its components.
The graph has a distinguished node, analogous to the root of a tree, whose label is the name of the concept.
All incoming errs to the concept enter only at this distinguished or "head" node.
Figure I is a diagram of part of the structured object GLAUCOMAPATIENT.
There are only a limited number of relations° These are: ATTR This denotes an attribute llnk.
MBY Associates an attribute with its measurement.
PART The PART relation holds between two concepts.
CONT The CONTAINS relation holds between two concepts.
ASS An ASSOCIATION llnk.
Some relations, such as the relation between PATIENT and PATIENT-MEDICATION cannot be characterized aa ATTR, PART or CONT but are more complex, as shown by the followln$ examples: the age of the patient (ATTR) (I) The medication of the patient (ASS) (2) The patient is receiving medication (ASS) (3) The patient is receiving age ()?
(4) Although the relation between PATIENT and PATIENTMEDICATION has some surface forms that make it look like an ATTR relation this is not really the case.
A "true" structured object would not have ASS links but they must be introduced to deal with GLAUCOMAPATIENT.
the formal semantics of the ASS relation are very similar to those of the ATTR and PART relations.
This research was supported under Grant No.
RR-643 from the National Institutes of Health to the Laboratory for Computer Science Research.
Rutgers University.
* A~thouah the class of structured objects is a subset of the class of concepts the t~o teems will be used lnterchangeably.
103 //~-~AT-~'~ }~,,FO~A~ PART SI~C C I-PAT-LE C2-PAT-EYE j q S~E ! C I-PAT-LE PRESSURE M.
~c~-PAT-~YE \[ C I-PAT-LE, PRESSURE-MSMT nESSURE-"S~'T, I SUBC C l-PAT-RE J ATI"R C I-PAT-P.E PRESSURE C I-PAT-~EPRESS~E-MSMT ~C~-~ATI PART....~SJ MEDICATION j C I-PATIENT ATTR C I-PAT-NEDDL~MOX i c x-~ATIENTi MET .~ c X-~AT~NTi ATT~ c,-,ATI,.NT-,Ic -pAT ' NT: i SEX JH (@1 SEX.-~T l /i -T d Ol-,A'zof oz,~ox-~zQ 1 ~,\]OL~OX.-Z'RZq-HSM~.
ATrP,.
/ ATTR ~ C I-PAT'HEDI MBTJ C I-PAT-MEDJ i I DZsXoE,-OosEI '1 Dz~ox Dosz..~SHT I Part of the Struc~Ject GLAUCCMA~PATZENT FOCATTE (Focussln$ ALtribute) If there are aultlpla idm~tical sub-parts then typically (but not al~ys) the values of a particular attribute are used to distinKuish between them, SUBC One concept is a sub-concept of another.
~e PART, COHT and ASS links are qualified by N~ME\]m and MODALITY as in \[Braclman 1978\].
MODALITT can have too values NECESSARY and OPTIONAL.
Modality is used to reprexnt the fact ~rat eyes are necessary parts of patients bu~ scotouaa (bllnd-spots) may or may not be present in the visual field.
WOMBEK can be either a umber (e.s.
2 EYES) or a predl~ata (e.S.
>-0 ecotonae).
The tarKeC of • PART CONT or ASS relation can also be a flat as in C I -PATIENT -LEFT-EYE-V~S UAL-F IELD C~T (AS'tOY C I-PATIENT-LEYT-g YE-VTS UAL-F IELD-SC OT~IA, C I-PATIENT-LEFT-EYE-V~S UAL-F IELD-ISLAND, the first member of the tint is e "sele~tlon function" ~hich describes hoe elmeats are to be Marred free the tint • The nunbers after the C prefix in Fisure l donate levels of "sub-conceptln8".
Level I £s the lowest level, those concepts do not have any sub-concepts only £natancao.
Note that CI-PATIENT-KIGHT-EYE is a sub-concept of C2PATIENT-gYE, not an Instanceo CI-PATIENT-LEFT-gYE and C2-PATTENT-~IGHT-EYE are two different concepts t that is they have d/~Joint sub-structure; they are as different to the system as C-AiM and C-LEG.
There is 8nod reason for this.
It is possible that a different Instrument will be needed to measure the value of an attribute in the right eye than in the taft aye.
Thls means that the measurement concepts got these attrlbutee will have to he different for the left and right eyes.
Another example from the d~ain of slancoma show this more vividly.
CIPATIENT-LEYT-~YE-VISUAL-FIELD-~COTCMA denotes a scotoma in the left eye.
A particular type of scotoma is the arcuate (bow-shaped) scotoma.
This must be a separate concept since it is meaninsful to suty "double arcuste scotoma" but not "doubte scotoma", This means that the concept C .... -FIELD-AACUATE-SCOTflMA has an attribute ~hat cannot be inherited from C..,-~IELD-SCOTOMA. If a measurement concept is the alune for hor~ eyes (or any other Idsetlcal sub-parts) then it need only be defined once and SUBC pointers can be used to point to the definition.
An example of this is the pressure tuscan=ameer in likuta l.
104 There are many more levels of "sub-conceptlng" chat could be represented here but it is not necessary for the interpretation of the cases.
Only those mechanisms for manipulating structured objects that are necessary for the interpretation of cases are beln E implemented.
Brachmen \[Brachman 1978\] has examined the problems of representing concepts in considerably more detail.
I. 1 MEASL~EMENT CONCEPTS Measurements are associated with those nodes of the graph Chat have Ineomln8 ATTR ~rcs.
There are twn kinds of measurements those with numerical values and those with non-n~erlcnl values.
Numerical measurements have the followln E internal structure: RANGE A pair of numbers that speclfy the range.
UNITS A set of units for the measurement.
QVALSET A set of qualitative values for the measurement.
TIME A dace or one of the values PAST, PRESENT.
INSTR A set of possible instruments for taking the maeaur amen, • CF A confidence factor or measure of reliability for the measurement.
There is also soma procedural knnwledge assoclatad with measurm-ents.
This relates numerical values to quantitative values, fellah Ill,lea with instruments etc.
An example of a measurement concept is given in figure 2.
m | i C I -FATIENT-LEFT-K YE-FLUI D-FR ES S UR E-M SMT RANGE 0, 120 UNITS K-~4-HG QVALSET (ONEOF K-DECREASED, K-NORMAL, K-ELEVATED, K-SEVERELY-ELEVATED) TIME (ONEOF PAST, PRESENT, DATE) INSTR (ONEOF K-A PPLANAT TON -T ONOM ETER, K-SCHIOTZ -TONOM ETER ) CF O, I *************************** if VALUE < 5 then **ERROR** if 5 <VALUE < i0 than QVAL K-DECREASED if l0 <VALUE < 21 than QVAL K-NORMAL if 21 <VALUE < 30 then QVAL K-ELEVATED if 30 <VALUE < I00 then QVAL K-SEVERELY-ELEVATED if I00 <VALUE than **ERROR** Fi~ur e 2 The Measurement Concept for Intra-ocular Pressure Items prefixed with a ~ "K 't in figure 2 denote constants.
Constants are "terminal items" having no further definition in the representation of the structured object.
number of instances is known beforehand, for example there can only be one instance of CI-PATIENT~.EFT-EYE0 while in other cases the number of instances is determined by the input, for example measurements of In,re-ocular pressure at different times are different instances.
Instances are created along a number of dimensions, the most common one being TIME, for example pressure today, pressure on Mar 23.
When different instruments are used to take measurements this constitutes a second dimension for instances.
The rules of instantlatlon are embedded in the core.
A partial instantiation of CI-PATIENT can be done before the first sentence is processed by tracing links marked NECESSARY.
Any component or attribute ins,an,laced at this stage will be introduced by a definite noun phrase while optional components will be introduced by indefinite noun phrases.
2. SEMANTICS A fundamental assumption that has been made and one that is Justlfled by examination of several sets of cases is that the sentences dascrlbe an instance of a patient with the assumption that the reader already knows the concept.
None of the sentences in the notes examined had an interpretation which would requlre updating the concept GLAUCCMA-PATIENT.
The interpretation of a case is thus consldared to be the construction of the the corresponding instance of GLAUCOMA-PATIENT.
The nature of structured objects as outlined above dlccataa that only two fundamental kinds of assertions are expected in sentences.
There wlll either be an assertion about the existence of an optional component as in (5) or about the value of an attribute as in (6) and (7) • There Is an arcuete scotoma od.** The pressure is 20 in the left eye.
The pressure is normal os.
(5) (6) (7) Vary few of the sentences contain Just one assertion, most contain several as in (8) and (9).
There is a nasal step and an arcuete scotoma in the left eye and a central island in the right eye (8) ~he medication is I0 percent pilocarplne daily in both eyes.
(9) 2.
I THE MEANING OF A SENTENCE Even though sentences are viewed as containing assertions their meanings can be represented as sets of instances, Non-nmnerlcal measurements differ from numerical given that there is a procedure which takes these measurements in that RANGE, UNIT and QVALSET are replaced instances and incorporates them into the growing instance by VALSET.
One or more members of VALSET are to be of GLAUCOMA-PATIENT.
Ibis is due to the tree structure selected in creating an instance of the measurement of instances since Instantlatlon of a concept involves concept, for example: Instantlatlon of all concepts between itself and the root.
In fact, many sentences in the cases do not even CI-PATIENT-SEX-MSMT VALSET (ONEOF K-MALE K-FEMALE) contain a relation but merely assert the existence of an instance or of an attribute value as in (I0) and (\[1).
I. 2 INSTANCES An instance of a structured object is represented as a tree.
Instances are created piece-meal as the Information trickles in from the case.
In some cases the Nasal step od.
(I0) a I0 year old white male.
(II) ** Opthalmologlsts frequently use the abbreviations "ed" for "in the right eye", "os" for "in the left eye" and "ou" for "in hor/1 ayes" 105 2.2 PROVISIONAL INSTANCES Any particular noun or adjective could refer to a number of different concepts.
"Medication" for" example could refer to CI-PATIENT-MEDICATION, CI-PATIENT-&IGHT-EYEMEDICATION or (I-PATIENT-LEFT-EYE-MEDICATION.
Moreover in any particular use it could be referring Co one or more of its possible referents.
In (t2) Medicacion consists of diamox and pllocarpine drops in both eyes.
(12) "medication" refers co all of its possible referents since diamox is not given to the eye but is taken orally.
In addition to this, ic £s generally not possible to know at the clme of encountering a word whether it refers to an existing Instance or to a new instance.
This is due to the fact thaC at the time of encountering a reference to a concept all of the values of the instance dimensions mlghc not be known.
The mechanism for dealing with these problems is Co assign "provisional Instances" as the referents of words end phrases when they are scanned during the parse and to turn these provisional instances Into "real" instances when the correct parse has been found.
This involves finding the values of the instance dimensions from rest of the sentence, from knowledge of defaults or perhaps from values in previous sentences.
The most common Instance dimension is TIME and its value is readily obtained from the tense of the verb or from a clme phrase.
If the instance dimensions indicate an existing instance then the partial provisional instance from the sentence is incorporated into the existing real instance, otherwise a new instance is created.
2.3 FINDING
THE MEANING OF A SENTENCE Several mappings can be made from the representation of structured objects to syntactic classes.
For example, all nodes will be referred to by nouns and noun phrases, links will be referred to by prepositions and verbs and members of a VALSET or a 0VALSET will ba referred to by adjectives.
The links between concepts and cha ~rds that can be used to refer to them are made at system build time when che structured object is constructed.
Some words such as "both" and "very" refer to procedures whose actions are the same no matter what the structured object.
The nature of structured objects and of the sentences in cases Indicate thac a "case'* \[Bruce 1975\] approach to semantic analysis is a "natural".
A case syecsm ham in fact been implemented with such cases as ATTRIBUTE, OBJECT, VALUE, and UNIT.
One case that is particularly useful is FOCUS.
It is used to record references Co left eye or right eye for use in embedded or conjoined sentences such as (13).
The pressure in the left eye is 27 and there is an arcuate scocoma.
(13) For the reasons discussed in section 2.2 ic is necessary co assign sacs of candidate referents to soma of the case values during the course of the parse.
These sacs are pruned as higher levels of the parse tree are built.
3. SYNTAX It is noc really possible to vlew cha sentences comprising a case as a subset of English since many of the elementary grammatical rules are broken (e.g.
frequent omission of verbs).
Rather the sentences are in a medical dialect and parr of the task of wrlClng an interpreter for cases involves an anthropological investlgaclon of the dialect and its definition in some formal way.
An analysls of a nt~"ber of cases revealed the following characteristics (see also \[Sangscer 1978\]): I) Frequent omission of verbs and punctuation.
2) ~ch use of abbreviations local to the domain.
3) Two kinds of ellipsis are evident.
In one kind the constituents left ouC are co be recovered from knowledge of the structured object; the ocher kind is the standard kind of textual ellipsis where the missing macerisl is recovered from previous sentences.
4) Two different uses of adjectival and prepositional qualifiers can be distinguished.
There is a referenclal use as in "in Left eye" in (14) and also an attributive use as in "of elevated pressure" in (14) There is a history of elevated pressure in the left eye.
(14) An adjective can only have a referential use if iC has previously been used attrlbucively or if it refers to a focussing attribute.
5) Sentences containing several assertions tend to tak~a one of two forms.
In one of these cha focus is on an eye and several measurements are given for that eye as in (15).
In the left eye chars is a pressure of 27, .5 cupping and an ercuaCe ecotome.
(:5) In the other form the focus is on an attribute and values for both eyes are given as in (16).
the pressure is I0 od and 20 os.
(16) A good deal of extra syntactic complexity is introduced by the fact chat there are 2 eyes (a particular ex-,.pla of the general phenomenon of multiple idanclcal sub-parts).
The problmis chac (ha qualifying phrases "in the left / rlghc/boch eyes" appear in many different places in the sentences and conslderabla work must be done to find the correct scope.
4. TMPLEM~TATTON AND AN EXAMPLE The system is being implemented in FUSPED a combination of Cha AI language FUZZY \[Lefaivre 1976\], the PEDAGLOT parsing system \[Fabens 1976\] and RUTLISP (&urgers UCILISP).
I~ZZ¥ provides an associative network facility ~ich is used for scoring both definitions of structured objects and instances.
FUZZY also provides pattern marching and pattern directed procedure invocation facilities which are very useful for 4mplemancing defaults and ocher inferences.
PEDACLOT is both a context free parser and a system for creating and editing grammar s • PEDACLOT "Cage" correspond Co gnuch syscheetzad attributes \[gnuCh t968\] and parses can be failed by resting conditions on rag values thus providing a natural imy of intermixing semantics and Farsing.
~he ~plmmcation of the systma is noC yac complete buc lC can deal with a fairly wide range of sentences about a number of components and attributes of Cl-GLAOCCMAPATIENT.
Figure 3 is some edited output from a rim of the e3mcmm.
The interpretation of only one sentence is i06 shown.
Space considerations prohibit the more of the intermediate output.
inclusion of,the patient is a 60 year old white male *diamc~ 250 ms bid Meaning : (I 626 PATIENT MEDICATION DIAMOX DOSE MSMT) NVAL 250 UNIT (K MG) TIME PRESENT INST PRESENT (T 630 PATIENT MEDICATION DIAMOX PREQUENCY MSMT) VAL (K BID) TIME PRESENT INST PRESENT ~eplnephrlne 2 percent bid od and pilocsrpine 2 percent bid os tthe pressures are 34 od and 40 os tche cupping ratio is .5 in both eyes ~in the right eye there is 20 / 50 vision and a central island tin the left eye the visual acuity is finger count ***GLAUCOMA CONSULTATION PROGRAM*** CAUSAL-ASSOC IATIONAL NETWORK *RESEARCH USE ONLY* ******************** * GLAUCOMA StHMARY * ******************** .)ERSONAL DATA: bt~4E: ANON ~gIOUS AGE: 60 RACE: W SEX: M CASE NO: 50 (HYPOTHETICAL) CLINICAL DATA StHMARY FOR VISIT OF 3/27/79 CURRENT MEDICATIONS: PILOCARPINE 2Z BID (OS) EPINEPHRINE 2% BID (OD) DIAMOX/INHIBITOR8 250 MG BID BEST CORRECTED VISUAL ACUITY: OD: 20/20 OS: FC lOP: OD: 34 OS: 40 VERTICAL CUP/DISC RATIO: 0.50 (OU) VISUAL FIELDS: CENTRAL ISLAND (OD) ****,eee***e.e****e 1.
2. 3.
4. 5.
Pigure 3 Some (edited) output from a run of a case References Bobrow D.
G. and Winograd T.
An Overview of KRL, a Knowledge Representation Langua8e, Cognitive Science, Vol.
1, No.
1. Jan 1977 Srachman R.
J. A Structural Paradigm for Representing Knowledge, Report No.
3605, Bolt Beranek and Newman, May 1978.
Bruce B.
Case Systems for Natural Language, Artificial Intelligence, Vol.
6, No.
4, 1975.
Fabens W.
PEDAGLOT Users Manual, Dept.
of Computer Science, Rutgers University, 1976.
l~uth D.
Semantics of Context Free Languages, Mathematical Systems Theory, Vol.
2. 1968.
I07 6.
LaFeivre R.
A FUZZY Reference Manual, TR-69, Dept.
of Computer Science, Rutsers University, Jun 1976.
7. Pople H,, Myers J.
and Miller R.
DIALOG: A Model of Diagnostic Reasoning for Internal Medicine, Proc.
IJ,CAI _4, Vol.
2, Sept 1975.
8. Sager N.
Natural Language Information FormatttnB: The Automatic Conversion of Texts into a Structured Data-Base, In Advances in Computers, Yovits M.
\[Ed.\], Vol.
17, 1978.
9. SanBster B.
Natural Language Dialogue with Data Base Systems: Designing for the Medical Environment, Fro c.
3rd Jerusalem Conference on Information Technology, North Nolland, An8 1978.
10. Shortliffe E.
Computer-Based Madtcal Consultations: MYCIN, ~lsevter, New York, 1976.
11. Sridharan N.
S. AIMDS USer Manual Version 2, TR-89, Dept.
of Computer Science, Rutgers University, Jun 1978.
12. Weiss S., Kullko~kl C., Amarel S.
and Saflr A.
A Model-Based Method for Computer-Aided Medical Decision-Making, Artificial Intelligence Vol.
11, No.
1-2, Aug 1978 .

