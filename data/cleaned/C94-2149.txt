XTAG System A Wide Coverage Grammar for English Christy Doran, Dania Egedi, Beth Ann Hockey, B.
Srinivas and Martin Zaidel* Institute for Research in Cognitive Science University of Pennsylvania Philadelphia, PA 19104-6228, USA {cdoran, egedi, beth, srini, zaidel} @linc.cis.upenn.edu Abstract This paper presents the XTAG system, a grammar development tool based on the Tree Adjoining Grammar (TAG) formalism that includes a wide-coverage syntactic grammar for English.
The various components of the system are discussed and preliminary evaluation results from the parsing of various corpora are given.
Results from the comparison of X3AG against the IBM statistical parser and the Alvey Natural Language Tool parser are also given.
1 INTRODUCTION
XTAG is a large on-going project to develop a widecoverage grammar for English, based on the l,exicalized Tree Adjoining Grammar (I 3"AG) tbrmalism.
LTAG is a lexicalized mildly-context sensitive tree rewriting system \[Joshi et al., 1975; Schabes, 1990\] that is closely related to Dependency Grammars and Categorial Grammars.
Elementary trees in 13~AG provicle a larger domain of locality over which syntactic and semantic (predicate-argument) constraints are specified.
XTAG also serves as an LTAG grammar development system consisting of a predictive left-to-right parser, an X-window interface, a roof phological analyzer, and a part-of-speech tagger (also referred to as simply 'tagger').
2 SYSTEM
DESCRIPTION Figure 1 shows the overall llow of the system when parsing a sentence.
The input sentence is submitted to the Morphological Analyzer and the 3hgger.
The morphological analyzer retrieves the morphological information for each individual word from the morphological database.
This output is tiltered in the P.O.S Blender using the output of the trigram tagger to reduce the part-of-speech ambiguity of the *currently at BBN, Cambridge, MA, USA Input Sentence ~'ph Analy~ l_ 'l'~ger,,__ _ _ ~\[ p.0.S Blender ~< 1 Â¸....... i i __ /i ~-1%~ TteeSdection,,~NynOB~ .......... ..........
Derivation Structure Figure I : Overview of XTAG system words.
The sentence, now annotated with part-ofspeech tags and morphological information for each word, is input to the Parser, which consults the syntactic database and tree database to retrieve the appropriate tree structures for each lexical item.
A variety o\[' heuristics arc used to reduce the number of trees selected.
The parsertitan composes the structures to obtain the parse(s) of the sentence.
2.1 Morphological
Analyzer The morphology database \[Karp et al., 19921 was originally exlracted from 1979 edition of the Collins English Dictionary and Oxford Adwmced Learner's l)ictionary of Current English, and then cleaned up and auglnentcd by hand.
It consists of approximately 317,000 inltected items, along with their root forms and intlectional intbrmalion (such as case, num922 bet, tense).
Thirteen parts of speech are diflerentiated: Noun, Proper Noun, Pronoun, Verb, Verb Particle, Adverb, Adjective, Preposition, Complementizer, Determiner, Conjunction, lntmjection, and Noun/Verb Contraction.
Notms and Verhs are the largest categories, with approximately 213,000 and 46,500 inflected forms, respectively.
'\['he access time for a given inflected entry is 0.6 msec.
2.2 Part-of-Speech Tagger A trigram part-of-speech tagger \[Church, 19881, trained on the Wall Street Jotlrilal Corpus, is incorporated in XTAG.
The trigraln tagger has been extended to output the N-best parts-of-speech sequences \[Soong and Huang, 1990\].
XTAG uses this infer mat|on Io reduce the number of specious parses by filtering the possible parts-of-speech provided by the morphological analyzer for each word.
The tagger decreases tile time to parse a sentence by an average of 93%.
2.3 Parser
Tim system uses an Ea,'ley-style parser which has been extended to handle feature structures associated with trees \[Schabes, 19901.
The parser uses a general two-pass parsing s|rategy for 'lexicalized' gramlnars ISchabes, 19881.
In the tree-selection pass, the parser uses tile syntactic database entry \[or each lexical item in the sentence to select a set of elementary structures from the tree database.
The tree-grafting pass composes the selected trees using substitution and adjunct|on operations to obtain the parse of the sentence.
The output of tile parser for tile sentence I had a map yesterday is illustrated in l;igure 2.
The parse tree I represents the surface constituent structure, while the derivation tree represents the deriwttion history of tile parse.
The nodes of the derivation tree are the tree names anchored by tile lexical items.
The composition operation is indicated by the nature of Ihe arcs; a dashed line is used for substitution and a bold line for adjunct|on.
The number beside each tree name is the address of the node at which the operation took place.
Tile deriwltion tree can also be interpreted as a dependency graph with unlabeled arcs hetween words of the sentence.
lleuristics that take advantage of 12FAGs have been implemented to improve the performance of tile parser.
For instance, the span of the tree and the position of the anchor in the tree are used to weed out unsuitable trees in the first pass of the parser.
Statistical information about the usage frequency of the trees I liach node of Ihe parse tree has a ligature sh'uchlre, not shown here, associaled with it.
Sr NP Vl'r N VP Ad NA I V NP yesterday had DeltP N I I 1) map I a P~.ll'Se Tree nxOVnxl\[hadl o.NXN\[I\] (1) l~vxARB\[yesterdayl (2) r*NXdxNImap\] (2.2) I i i cd)XDlal (1) l)erivation Tree Figure 2: Output structures from the Parser has been acquired by parsing corpora.
This information has been compiled into a statistical database (tile l,ex Prob DB) that is used by the parser.
These methods speed the runt|me by approxmmtely 87%.
J 2.3.1 lleuristics for Ranking the 1 arses The parser generates the parses in a rank order.
This ranking is determined using a combination of heuristics, which are expressed as structural preferences for deriwttion, e..g.
attachment sites of adjuncts, rightvs.
leftbranching structures, topicalized sentences, etc.
Similar hem'istics have been used for other parsers.
See recent work by IHobbs and Bear, 199411, \[McCord, 19931,and \[Nagao, 1994t.
A partial list el ~ the heuristics used in XTAG follows: 1.
Prefer argument positions to adjunct positions (here, this amotmts Io preferring fewer adjunct|on operations).
2. For PPs other Ihan o/', attach to nearest site that is llOt a proper noun.
3. Prefer right-branching structtu'e for sequences of adiectives adverbs and PPs.
923 4.
5. Prefer left-branching structure for sequences of norms.
Prefer high attachment (wide-scope) for a moditier and a sequence of modifees of the same type (i.e.
a PP following or preceding a coordinate NP, an adjective or determiner preceding a coordinate NP or sequence of Ns, an N preceding coordinate Ns).
These rankings are used to control the number of sentences passed on to further levels of processing.
In applications emphasizing speed, only the highest ranked parse will be considered, in applications emphasizing accuracy, the top N parses can be considered.
2.3.2 Syntactic
Database The syntactic database associates lexical items with the appropriate trees and tree families based on selectional information.
The syntactic database entries were originally extracted from the Oxford Advanced Learner's Dictionary and Oxford Dictionary for Contemporary Idiomatic English; and then modified and augmented by hand.
There are more than 37,000 syntactic database entries.
Selected entries from this database are shown in Table 1.
Each syntactic entry consists of an INDEX feld, the uninflected form under which the entry is compiled in the database, an ENTRY field, which contains all of the lexical items that will anchor the associated tree(s), a pos field, which gives the part-of-speech for the lexical item(s) in the ENTRY feld, and then either (but not both) a TREES or FAM field.
The TREES field indicates a list of individual trees to be associated with the entry, while the FAM field indicates a list of tree families.
A tree family, which corresponds to a subcategorization frame (see section 2.3.3), may contain a number of trees.
A syntactic entry may also contain a list of feature templates (Fs) which expand out to feature equations to be placed in the specified tree(s).
Any number of EX felds may be provided for example sentences.
Note that lexical items may have more than one entry and may select the same tree more than once, using different features to capture lexical idiosyncrasies (e.g.
have). 2.3.3 Tree Database Trees in the English \[;FAG framework fall into two conceptual classes.
The smaller class consists o1' individual trees such as trees (a), (d), and (e) in Figure 3.
These trees are generally anchored by non-verbal lexical items.
The larger class consists of trees that are INDEX: have/26 ENTRY: have POS: V TREES: ~Vvx FS: #VPr_ind, #VPr_past, #VPr_perfect+ #VP_ppart, #VP_passEX: he had died; we had died INDEX: have/50 ENTRY: have POS: V TREES: flVvx FS: #VP_inf EX: John has to go to the store.
INDEX: have/69 ENTRY: NP0 have NP1 POS: NP0 V NPI FAM: Tnx0Vnx I FS: #TRANS+ EX: John has a problem.
INDEX: map/I \]gNTRY: NP0 map out NP1 POS: NP0 V PL NP1 FAM: Tnx0Vplnxl INDEX: map/3 ENTRY: map POS: N TREES: {rN, (~NXdxN,/iNn FS: #N_wh-, #N_.reflINDEX: map/4 ENTRY: map POS: N TREES: (~NXN FS: #N..wh-, #N_refl-, #N_plur "Fable 1 : Selected Syntactic Database Entries grouped into tree families.
These tree families represent subcategorization frmnes; the trees in a tree family would be related to each other transformationally in a movement-based approach.
Trees 3(b) and 3(c) are members of two distinct tree families.
As illustrated by trees 3(d) and 3(e), each node of a tree is annotated with a set of features whose wtlues may be specified within the tree or may be derived from the syntactic database.
There are 385 trees that compose 40 tree families, along with 62 individually selected trees in the tree database.
924 NP (a) N t â¢ NP0$ VP VO NP /$ (b) ~r NI'(~I, VP V0 I'1.0 NPI$ (c) NP \[ras ........
/ace\] line .* <3>\] Igl' : <2>\] DeII'.I.
\[ag,'\[wh : <1>: <2> \[\]\[\] NO \[:::::~ :<;3>> \[!
\[\] V) w', \[\] Ii I ellSe : <2> \[ nlode : <3> \[ ISSJ~lI-CllSe i <4> I mrl;ect : <5> j If,.: <,> \[\] w,* \[.,,,.t~t : <s.-\[\] t ....... 2> \[1 \[ NA I13,nod,~ : <3> \[\] I ~ssig,,-case : <4> \[\]1 \[\] (d) (c) Figure 3: Natnple trees frolll the Tree 1)atabase 2.3.4 Statistics Database The statistics database contains trec tmigram frequencies which have been collected by parsing lhe Wall Street Jourllal, the IBM manttal, and the ATIS corptts using the XTAG English grammar.
The parser, augmented with the statistics database \[Joshi and Srinivas, 1994\], assigns each word of the input sentence the top three inost frequently used trees given the part-of-speech o1' the word.
On failure the parser retries using all the trees suggested by the syntactic database liar each word.
The augmented parser has been observed to have a success rate of 50% without retries.
2.4 X-Interface XTAG provides a graphical interface for manipulating TAGs.
The interface offers the following: Menu-based facility for creating and modifying tree liles and loading grammar files.
User controlled parser parameters, including the parsing of categories (S, embedded S, NP, l)etP), and the use of the tagger (on/o flTrctry on failure), Storage/,etriewfl facilities for elementary and t)arsed hces as text liles.
The production of postscript files corresponding to elementary and parsed trees.
Graphical displays of trec and feature data structures, including a scroll 'web' for large tree structures.
Mouse-based tree editor for crca|ing and modifying trees and feature shuctures.
Hand combination of trees by adjunction or substitution for use in diagnosing grallunar problems.
Figure 4 shows tile X window interface after a number of sentences have becll pat'sed.
925 Exits Bttffers Oranmuar Parsers Parsing derived-tree-889 Bill w'oJttod to go to Washh~oa derivedtree140368 derivedtree140369 derivedtree140370 I eoul~t't understmul him derivedtree140449 Go to your room derivedtree140420 derlved-tree-140621 derived-tree140622 derivedtree140763 derivedtree140764 derivedtree-140768 derivedtt~-140766 parsers in the same class as XqAG.
Although XTAG is being extended to handle sentence fragments, they are not included at present, and are thereby not reflected in the data in Table 2.
Statistical information ti'om the parsed corpora described in Section 2.3.4 is presently used only for' speeding the parser but not to tune the grammar to parse any specilic corpus.
Note then, thai the data below does not involve any corpus training.
Corpus WSJ IBM Manual ATIS nts~ Av.
# of % Parsed parses/sent 39.09% 7.53 75.42% 6.14 74.42% 6.0 Table 2: Performance of XTAG on various corpora Figure 4: XTAG Interface 3 ENGLISH GRAMMAR The morphology, syntactic, and tree databases together comprise the English grammar.
Lexical items not in the databases are handled by default mechanisms.
The range of syntactic phenomena that can be handled is large and includes auxiliaries (including inversion), copula, raising and small clause constructions, topicalization, relative clauses, infinitives, gerunds, passives, adjuncts, it-clefts, wh-clefts, PRO constructions, noun-noun modifications, extraposition, determiner phrases, genitives, negation, nounverb contractions and imperatives.
Analyses for sentential adjuncts and time NP adverbials are currently being implemented.
The combination of large scale lexicons and wide phenomena coverage result in a robust system.
4 CORPUS
PARSING AND EVALUATION XTAG has recently been used to parse the Wall Street Journal 2, IBM manual, and ATIS corpora as a means of evaluating the coverage and correctness of XTAG parses.
For this evaluation, a sentence is considered to have parsed correctly if XTAG produces parse trees.
Verifying the presence of the correct parse among the parses generated is done manually at present.
Table 2 shows the preliminary results.
We will present more complete and rigorous results by the time of the conference and compare them with other 2Sentences of length <= 15 words 4.1 Comparison with IBM Parser A more detailed experiment to measure the crossing bracket accuracy of the XTAG-parsed IBM-manual sentences has been performed.
Of the 1600 IBM sentences that have been parsed (those available from the Penn Treebank \[Marcus et al., 19931), only 67 overlapped with the IBM-manual treebank that was bracketed by University of Lancaster.
3 The
XTAGparses for these 67 sentences were compared 4 with the Lancaster IBM-manual treebank.
Table 3 shows the results obtained in this experiment.
It also shows the crossing bracket accuracy of the latest IBM statistical parser \[Jelinek el al., 1994\] on the same genre of sentences.
Recall is a measure of the number of bracketed constituents the system got right divided by the number of constituents in the corresponding Treebank sentences.
Precision is the number of bracketed constituents the system got right divided by the number of bracketed constituents in the system's parse.
Based on the present data, we believe our" results will be consistent for the complete XTAO-parsed IBM corpus; we plan to evaluate the XTAG parses against the Penn Treebank.
In addition, we are parsing the Lancaster sentences, and adding those to the XTAG IBM corpus.
While the crossing-brackets measure is useful for comparing the output of different parsers, we believe that it is a somewhat inadequate method for" evaluating a parser like XTAG for" two main reasons.
First, 3The treebank was obtained through Salim Roukos (roukos@watson.ibm.com) at IBM.
~We used the parseval program written by Phil llarison (phil @atc.boeing.com).
926 Sysl:em X'A'A% IBM Stat.
parser t !"am-k-Â°ts l-1 1 1000 86.2% Nol | Not I _ \[ Ava Ja?k, I Ayailablo Table 3: Performailco O\[ XTAG on II}Mqnalnlal sen~ fences tile parse generated by the XTAG system is nnich richer in its representation of the internal structure of certain phrases thari those present in manually created treebanks.
Even though the Lancaster treebank is 1nero detailed in terins of bracketing than the Pemi Treebank, it is not complete in its bracketing of the internal structure of notln phlases.
As a result oFcomparing the XTAG parse with a skeletal representation, the precision score is misleadingly low for the XTAG system.
a seColld i'eaSOll tliat lhe crossing brackcl IlleaSlll'e is inadequate for ewlhiafing XTA(I is thai the priiriary strtlcturo in XTAG is the doriwition tl'oo \['rOlll whicll the bracketed hee is deriwtd.
Two identical bracketings for a sentellCO Ci\[ll \[laVe coinpletely tlil:forent deriwition trees.
A iliore direcl ilieasuro oF the tlorlornlanco oil' file XTAG parser would evahiale the deriwition structtlre, which captures the dependencies between word;;.
4.2 CoiliparisOll
with Alvey We also colnpared the XTt\G parser to the Alvey Nal:tlral kailgtlage Tools (ANI ;l') t)alser, and louild that the two perfornled coniparably.
We parsed the sol of I~DOCI'2 Noltn Pluases presented in Appendix l:l of the teciinical report IC, arroll, 1903 \], using Iho XTAG parser.
The lechnical report presenls the ranking of tile correct parse and also gives the Ioial iillillber of doriwitions for each liOtill phrase.
In this experhnenl, we have conlparod lhe total nuinber o\[' doriwliions obtained |'rent X'I'A(I with lhai oblainod front the ANUF parser.
Table 4 sulnlnarizos the results of lhis cxperhlleilt.
A iolal of 143 lloun i)luasos were parsed.
The NPs whicll did nol have a correct parse in the top lhroo derivations for tile ANLT parser were considered as faihlres for AN\[\]'.
Tile maxinitlnl and average iluniher of derivations cohnnns show Ihe highesl and lhe average lillnlbc;r o\[ derivations produced for tile NPs that tiave a correct derivation hi the top tinco deriwitlons, l:or tile XTAG systeiii, porloriilallce rcsulls with alid without ihe P()S lagger are siR)wit.
5 5BcCatlSt? tilt?
NPs {11o, eli {ivol'~l~O, silorit',f Ihall ihc'.
St?lltcnt?os on which il was lrahi~;d, the perforlnanco of Iho POS la~ggt?r is syswni 7iparsed % parsed ANi:ri'armr-; 71 127-M Si~.Sl% X'IAG with I <,7 1 65.(/3% XTAG wilhout / 127l \[86.7i% _!~osj~i~, L _ 2 v,x T xu I 32 1 4.
7 d 28 \[ 3.45 / Table 4: Conlparison of XTAG and ANIfI" Parser It would be interesting lo see if the two systems perfornied similarly on a wider range of dala.
In ICarroll, 1993 \], only tile IA)OCE NPs are annotated with tile nunlber of deriwltions; we are interested in getting nlore data annolated with Ihis inforimition, in order to lllake further conlparisons.
5 COMPUTER
PI,ATFORM XTAG was developed Oll the Still SI-'ARC station soties, and has been tested on the Still 4 and lip BOIL CATs series 9000.
It is awlihlble through allonymotlS flp, and requires 20MB of space.
Please send nlail to xtag-requesl(,~linc.cis.upenn.edu for I'tp instructions or inore hllormaliOll.
XTAG Fequh'es lhe following sollware to rtll/: u k niachiile runnhlg UNIX and X t IR4.
Prt'vious releases o\[ X will ilol work.
X1 tR4 is free software available \[rolli MIT.
Ii A COllllllOll l,isp conipiler which supports tile latest deliniiit)n of Ct)llllllOn I,isp (Steele's (701nmen Lisp, second edition).
XTAG has been lesled wiih Lucid Commoli l,is I) 4.0 and Allegro 4.0.1. ii (\]l,X versioll 4 or hi.gher.
C\],X is the lisp etluiv.
alent to tile Xlib package wrilten in C.
â¢ Mark Kalllrowilz's l,isp \[Jlilities fronl CMIJ: logical-pathnalnes and dolsystenl.
The latest version o1' CLX (RS.0) and tile CMU l,isp Utilities are provided in our flp directory for your convenience, ltowevcr, we ask that you refer to the approl~riate source for updates.
The nlorpllology database colnponentl Kar l) el al., 1992 I, no longer under Iicenshlg restrictions, is available as a separate syslolll frolil the XTA(i system.
Igp hislrtiotioils alld iilore iiifornlatiOll can bc obtahled by inailing requosls 1o lcx-request(a)lhlc.cis.upenn.odu.
signilit?antly degraded.
\[:or this i'oflSOll, the table contains illJi)rlliatioil abotlt lilt? pc:rlorlliant?t? of XTA(I both with and wilhout Ihe tagger.
927 References \]Carroll, 199311 Carroll, J.
(1993). Practical Unification-based Parsing of Natural Language.
University of Cambridge, Computer Laboratory, Cambridge, England.
\[Church, 1988\] Church., K.
(1988). A Stochastic Parts Program and Noun Phrase Parser for Unrestricted Text.
In 2nd Applied Natural lxmguage Processing ConJerence.
IHobbs and Bear, 199411 Hobbs, J.
and Bear, J.
(1994). Two principles of parse preference.
In Current Issues in Natural Language Processing: In Honour of Don Walker.
Giardini with Kluwer.
IJelinek et al., 199411 Jelinek, E, Lafferty, J., Magerman, D., Mercel, R., Ratnaparkhi, A., and Roukos, S.
(1994). Decision tree parsing using a hidden derivation model.
ARPA Workshop on Human Language Technology, pages 260-265.
\[Joshi et al., 197511 Joshi, A.J., Levy, L., and Takahashi, M.
(1975). T1ee adjunct grammars.
In Journal of Computer and System Sciences.
\[Joshi and Srinivas, 1994\] Joshi, A.J. and Srinivas, B.
(1994). Disambiguation of Super Parts of Speech (or Suptertags): Almost Parsing.
In Proceedings of the 15 ~/~ International Conference on Computational Linguistics (COLING '92), Kyoto, Japan, August.
\[Karp et al., 1992\] Kaq), I)., Schabes, Y., Zaidel, M., and Egedi, 1).
(I 992).
A Freely Available Wide Coverage Morphological Analyzer for English.
In Proceedings of the 15 t/~ hzternational Conference on Computational Linguistics (COLING '92) Nantes, France, August.
\[Marcus et al., 1993\] Marcus, M., Santorini, B., and Malvinkiewicz, M.A.
(I 993).
Building a large annotated corpus of English: The Penn Treebank.
Computational Linguistics, 19.2:313-330, June.
\[McCord, 1993\] McCord, M.
(1993). Heuristics for broad-coverage natural language processing.
In DARPA Human Language Teehnology Workshop, March.
INagao, 1994\] Nagao, M.
(1994). Varieties of heuristics in sentence processing.
In Current Issues in Natural Language Processing: In Honour of Don Walker.
Giardini with Kluwer.
\[Schabes, 198811 Schabes, Y., Abeill6, A., and Joshi, A.K.
(1988). Parsing strategies with 'lexicalized' grammars: Application to tree adjoining grammars.
In Proceedings of the 12 zh bzternational Conference on Comt)utational Linguistics (COLING'88), Budapest, Ilungary, August.
\[Schabes, 1990\] Schabes, Y.
(1990). Mathematical and Computational Aspects c~f Lexicalized Grammars.
Ph.1). thesis, University of Pennsylvania, Philadelphia, PA, August.
Awlilable as technical report (MS-CIS-90-48, LINC LAB179) fi'om the Department of Computer Science.
\[Soong and Huang, 199011 Soong, EK.
and Huang, E.
(1990). A Fast Tree-Trellis Search for Finding the N-Best Sentence Hypothesis in Continuous Speech Recognition.
In Journal o/ Acoustic Society, AM., May. 928

