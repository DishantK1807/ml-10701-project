1:157	From Machine Translation to Computer Assisted Translation using Finite-State Models Jorge Civera, Elsa Cubel, Antonio L. Lagarda, David Pico, Jorge Gonzalez, Enrique Vidal, Francisco Casacuberta Instituto Tecnologico de Informatica Dpto.
2:157	de Sistemas Informaticos y Computacion, Universidad Politecnica de Valencia E-46071 Valencia, Spain jorcisai@iti.upv.es Juan M. Vilar, Sergio Barrachina Dpto.
3:157	de Lenguajes y Sistemas Informaticos, Universidad Jaime I, E-12071 Castellon de la Plana, Spain jvilar@lsi.uji.es Abstract State-of-the-art machine translation techniques are still far from producing high quality translations.
4:157	This drawback leads us to introduce an alternative approach to the translation problem that brings human expertise into the machine translation scenario.
5:157	In this framework, namely Computer Assisted Translation (CAT), human translators interact with a translation system, as an assistance tool, that dinamically offers, a list of translations that best completes the part of the sentence already translated.
6:157	In this paper, finite state transducers are presented as a candidate technology in the CAT paradigm.
7:157	The appropriateness of this technique is evaluated on a printer manual corpus and results from preliminary experiments confirm that human translators would reduce to less than 25% the amount of work to be done for the same task.
8:157	1 Introduction State-of-the-art machine translation techniques are still far from producing high quality translations.
9:157	This drawback leads us to introduce an alternative approach to the translation problem that brings human expertise into the machine translation scenario.
10:157	(Langlais et al. , 2000) proposed this idea that can be illustrated as follows.
11:157	Initially, the human translator is provided with a possible translation for the sentence to be translated.
12:157	Unfortunately in most of the cases, this translation is not perfect, so the translator amends it and asks for a translation of the part of the sentence still to be translated (completion).
13:157	This latter interaction is repeated as many times as needed until the final translation is achieved.
14:157	The scenario described in the previous paragraph, can be seen as an iterative refinement of the translations offered by the translation system, that without possessing the desired quality, help the translator to increase his/her productivity.
15:157	Nowadays, this lack of translation excellence is a common characteristic in all machine translation systems.
16:157	Therefore, the human-machine synergy represented by the CAT paradigm seems to be more promising than fully-automatic translation in the near future.
17:157	The CAT paradigm has two important aspects: the models need to provide adequate completions and they have to do so efficiently to perform under usability constrains.
18:157	To fulfill these two requirements, Stochastic Finite State Transducers (SFST) have been selected since they have proved in the past to be able to provide adequate translations (Vidal, 1997; Knight and Al-Onaizan, 1998; Amengual et al. , 2000; Casacuberta et al. , 2001; Bangalore and Ricardi, 2001).
19:157	In addition, efficient parsing algorithms can be easily adapted in order to provide completions.
20:157	The rest of the paper is structured as follows.
21:157	The following section introduces the general setting for machine translation and finite state models.
22:157	In section 3, the search procedure for an interactive translation is presented.
23:157	Experimental results are presented in section 4.
24:157	Finally, some conclusions and future work are explained in section 5.
25:157	2 Machine translation with finite-state transducers Given a source sentence a0, the goal of MT is to find a target sentence a1t that maximizes: a1t a0 argmax t a1a3a2a5a4 t a6 sa7a8a0 argmax t a1a8a2a5a4 t a9 sa7 (1) The joint distribution a1a8a2a5a4 ta9 sa7 can be modeled by a Stochastic Finite State Transducer a10 (Pico and Casacuberta, 2001): a1t a0 argmax t a1a8a2a11a4 t a9 sa7a8a12 argmax t a1a3a2a14a13a15a4 t a9 sa7 (2) A Stochastic Finite-State Transducer (SFST) is a finite-state network whose transitions are labeled by three items: 1.
26:157	a source symbol (a word from the source language vocabulary); 2.
27:157	a target string (a sequence of words from the target language vocabulary) and 3.
28:157	a transition probability.
29:157	They have been successfully applied into many translation tasks (Vidal, 1997; Amengual et al. , 2000; Casacuberta et al. , 2001).
30:157	Furthermore, there exist efficient search algorithms like Viterbi (Viterbi, 1967) for the best path and the Recursive Enumeration Algorithm (REA) (Jimenez and Marzal, 1999) for the a16 -best paths.
31:157	One possible way of inferring SFSTs is the Grammatical Inference and Alignments for Transducer Inference (GIATI) technique (the previous name of this technique was MGTI MorphicGenerator Transducer Inference) (Casacuberta et al. , 2004).
32:157	Given a finite sample of string pairs, it works in three steps: 1.
33:157	Building training strings.
34:157	Each training pair is transformed into a single string from an extended alphabet to obtain a new sample of strings.
35:157	The extended alphabet contains words or substrings from source and target sentences coming from training pairs.
36:157	2.
37:157	Inferring a (stochastic) regular grammar.
38:157	Typically, smoothed a16 -gram is inferred from the sample of strings obtained in the previous step.
39:157	3.
40:157	Transforming the inferred regular grammar into a transducer.
41:157	The symbols associated to the grammar rules are transformed into source/target symbols by applying an adequate transformation, thereby transforming the grammar inferred in the previous step into a transducer.
42:157	The transformation of a parallel corpus into a corpus of single sentences is performed with the help of statistical alignments: each word is joined with its translation in the output sentence, creating an extended word.
43:157	This joining is done taking care not to invert the order of the output words.
44:157	The third step is trivial with this arrangement.
45:157	In our experiments, the alignments are obtained using the GIZA software (Och and Ney, 2000; Al-Onaizan et al. , 1999), which implements IBM statistical models (Brown et al. , 1993).
46:157	3 Interactive search The concept of interactive search is closely related to the CAT paradigm.
47:157	This paradigm introduces the new factor ta17 into the general machine translation equation (Equation 1).
48:157	ta17 represents a prefix in the target language obtained as a result of the interaction between the human translator and the machine translation system.
49:157	As a side effect of this reformulation, the optimization defined in Equation 3 is performed over the set of target suffixes rather than the set of complete target sentences.
50:157	Thence, the goal of CAT in the finite-state transducer framework is to find a prediction of the best suffix a1ta18, given a source sentence s, a prefix of the target sentence ta17 and a SFST a10 : a19 ta20a22a21 argmax ta23 a24a26a25a28a27 t a20a30a29 sa31 ta32a34a33a35a21 argmax ta23 a24a35a25a36a27 t a32 ta20a37a31 sa33a35a38 a38 argmax ta23 a24a26a25a40a39a3a27 t a32 ta20 a31 sa33 (3) A transducer can be understood as a weighted graph in which every path is a possible source-target sentence pair represented in a compact manner.
51:157	Given a source sentence s to be translated, this sentence is initially employed to define a set of paths in the transducer, whose sequence of source symbols is compatible with the source sentence.
52:157	Equation 3 is just defining the most probable path (target suffix a1t a18 ) among those that are compatible, having ta17 as a target prefix.
53:157	0 1"load" (0.28) 3"(null)" (0.061728) 2 "the" (0.246914) 10"paper" (0.4) 9"(null)" (0.133333) 8"paper" (0.020833) 7"paper" (0.020833) 5 "stock" (0.020833) 4 "(null)" (0.104167) 11 f=1 "".
54:157	(0.133333) "".
55:157	(0.133333) "".
56:157	(1) 6"neatly" (1) "".
57:157	(1) "".
58:157	(1) "".
59:157	(1) Figure 1: Resultant word graph given the source sentence cargue el papel The search for this path (the product of the probabilities associated with its edges is maximum) is performed according to the Viterbi decoding over the set of paths that were compatible with the source sentence.
60:157	The concatenation of the target symbols of this best path will give place to the target sentence (translation).
61:157	The solution to the search problem has been devised in two phases.
62:157	The first one copes with the extraction of a word graph a0 from a SFST a10 given a source sentence s. A word graph represents the set of paths whose sequence of source symbols is compatible with the source sentence s. The second phase involves the search for the best translation over the word graph a0.
63:157	To be more precise, in the present work the concept of best translation has been extended to a set of best translations (n-best translations).
64:157	This search can be carried out efficiently taking into account not only the a posteriori probability of a given translation a1t, but also the minimum edit cost with respect to the target prefix.
65:157	The way in which this latter criterium is integrated in the search process will be explain in section 3.2.
66:157	3.1 Word-graph derivation A word graph represents the set of all possible translations for a given source sentence s that were embeded in the SFST a10 . The derivation of the word graph is performed by intersecting the SFST a10 with the source sentence s defining a subgraph in a10 whose paths are compatible with the source sentence.
67:157	Interactive search can be simplified significantly by using this representation of the set of target sentences, since the inclusion of edit cost operations along with the search procedure introduces some peculiarities that can be solved efficiently in the word graph.
68:157	An example of word graph is shown in Figure 1.
69:157	3.2 Search for a16 -best translations given a prefix of the target sentence The application of this type of search is aimed at the core of CAT.
70:157	In this paradigm, given a source sentence s, the human translator is provided with a list of n translations, also called a16 -best translations.
71:157	Then, the human translator will proceed to accept a prefix of one of these a16 -best translations as correct, appending some rectifications to the selected prefix.
72:157	This new prefix of the target sentence ta17 together with the source sentence s will generate a new set of best translations that will be again modified by the human translator.
73:157	This process is repeated as many times as neccessary to achieve the desired final translation.
74:157	Ideally, the task would be to find the target suffix ta18 that maximizes the probability a posteriori given a prefix ta17 of the target sentence and the input sentence.
75:157	In practice, however, it may happen that ta17 is not present in the word graph a0 . The solution is to use not ta17 but a prefix ta1a17 that minimizes the edition distance with ta17 and is compatible with a0 . Therefore, the score of a target translation t a2 ta17 ta18 is characterized by two functions, the edit cost between the target prefix ta17 and the optimal prefix ta1 a17 found in the word graph a0 and the a posteriori probability of ta18 (a3a5a4 a4 ta18 a6 ta1 a17 a7 ).
76:157	In order to value more significantly those translations that were closer to the user preferences, the list of a16 best translations has been prioritized using two criteria: first, the minimum edit cost and then, by the a posteriori probability.
77:157	The algorithm proposed to solve this search problem is an adapted version of the Recursive Enumeration Algorithm (REA) described in (Jimenez and Marzal, 1999) that integrates the minimum edit cost algorithm in the search procedure to deal with words, introduced by the user, that are not present in the word graph.
78:157	This algorithm consists of two parts: a0 Forward search that calculates the 1-best path from the initial state to every state in the word graph a0 . Paths in the word graph are weighted not only based on their a posteriori probability, but also on their edit cost respect to the target sentence prefix.
79:157	To this purpose, ficticious edges have been inserted into the word graph to represent edition operations like insertion, substitution and deletion.
80:157	These edition operations have been included in the word graph in the following way:  Insertion: An insertion edge has been inserted as a loop for each state in the word graph with unitary cost.
81:157	 Deletion: A deletion edge is added for each arc in the word graph having the same source and target state than its sibling arc with unitary cost.
82:157	 Substitution: Each arc in the word graph is treated as a substitution edge whose edit cost is proportional to the levenshtein distance between the symbol associated with this arc and the word prefix employed to traverse this arc during the search.
83:157	This substitution cost is zero when the word prefix matches the symbol in the word graph arc. a0 Backward search that enumerates candidates for the a1 -best path along the a4 a1a3a2a5a4 a7 -best path.
84:157	This recursive algorithm defines the next best path that arrives at a given state a6 as the next best path that reaches a6 a1 plus the arc leaving from a6 a1 to a6 . If this next best path arriving at state a6 a1 has not been calculated yet, then the next best path procedure is called recursively until a 1-best path is found or no best paths are found.
85:157	To reduce the computational cost of the search, the beam-search technique (Ney et al. , 1992) has been implemented.
86:157	During the word graph construction, two beam coefficients were employed to penalize those edges leading to backoff states over those ones arriving at normal states.
87:157	Finally, a third beam coefficient controls how far in terms of number of edition operations a hypothesis.
88:157	4 Experimental results 4.1 Corpus features The corpus employed to perform experiments was the Xerox corpus (SchlumbergerSema S.A et al. , 2001).
89:157	It involves the translation of technical Xerox manuals from English to Spanish, French and German and vice-versa.
90:157	Some statistics about the data used for training and test purposes are shown in Table 1.
91:157	4.2 Sample session A TT2 interactive prototype, which uses the searching techniques presented in the previous sections, has been implemented.
92:157	The user is able to customized this prototype in different ways: number of suggested translations, length in number of words of these suggestions, etc. In the example below, the number of suggestions is five and the length of these suggestions has not been bound.
93:157	Example 1 This example shows the functionality and the interaction between the TT2 prototype and a translator through a translation instance from English to Spanish for a given sentence drawn from the Xerox corpus.
94:157	For better understanding of this example the reference target sentence is given below: Reference target sentence: Instalacion de controladores de impresora y archivos PPD.
95:157	Source sentence: Installing the Printer Drivers and PPDs.
96:157	Hypothesis 0.0: Instalacion del los controladores de impresion y archivos PPD adaptados.
97:157	Hypothesis 0.1: Instalacion del los controladores de impresion y ver los archivos PPD.
98:157	Table 1: Features of Xerox Corpus: training, vocabulary and test sizes measured in thousands of words.
99:157	SIM: Currently used reversible preprocessing.
100:157	RAW: Original corpus without preprocess.
101:157	PERPLEXITY: Measure how well a language model describes the test set.
102:157	EN / ES EN / DE EN / FR RAW SIM RAW SIM RAW SIM TRAINING 600/700 600/700 600/500 500/600 600/700 500/400 VOCABULARY 26 / 30 8 / 11 25 / 27 8 / 10 25 / 37 8 / 19 TEST 8 / 9 8 / 10 9 / 10 11 / 12 11 / 10 12 / 12 PERPLEXITY (3-gram) 107/60 48/33 93/169 51/87 193/135 73/52 Hypothesis 0.2: Instalacion de la los controladores de impresion y archivos PPD adaptados.
103:157	Hypothesis 0.3: Instalacion de la los controladores de impresion y ver los archivos PPD.
104:157	Hypothesis 0.4: Instalacion de la esta los controladores de impresion y ver los archivos PPD.
105:157	User interaction 0: Hypothesis 0.2 is selected and the cursor is positioned at the beginning of the word los.
106:157	Then, the translator would type the character c, that is, the next character in the reference target sentence.
107:157	Prefix 0: Instalacion de c Hypothesis 1.0: Instalacion de c los controladores de impresion y archivos PPD adapatados.
108:157	Hypothesis 1.1: Instalacion de c los controladores de impresion y ver los archivos PPD.
109:157	Hypothesis 1.2: Instalacion de c esta los controladores de impresion y archivos PPD adapatados.
110:157	Hypothesis 1.3: Instalacion de c esta los controladores de impresion y ver los archivos PPD.
111:157	Hypothesis 1.4: Instalacion de controladores de impresion y fax y en archivos PPD adapatados.
112:157	User interaction 1: Hypothesis 1.4 is selected and the cursor is positioned between the character s and i of the word impresion.
113:157	Then, the translator would type the next character in the reference target sentence: o.
114:157	Prefix 1: Instalacion de controladores de impreso Hypothesis 2.0: Instalacion de controladores de impresora y archivos PPD adaptados.
115:157	Hypothesis 2.1: Instalacion de controladores de impresora y ver los archivos PPD.
116:157	Hypothesis 2.2: Instalacion de controladores de impresora/fax y ver los archivos PPD.
117:157	Hypothesis 2.3: Instalacion de controladores de impresora/fax y archivos PPD adaptados.
118:157	Hypothesis 2.4: Instalacion de controladores de impresora y fax de CentreWare y ver los archivos PPD.
119:157	User interaction 2: Hypothesis 2.0 is selected and the cursor is positioned at the end of the word PPD.
120:157	The translator would just need to add the character ..
121:157	Prefix 2: Instalacion de controladores de impresora y archivos PPD.
122:157	Hypothesis 3.0: Instalacion de controladores de impresora y archivos PPD.
123:157	Hypothesis 3.1: Instalacion de controladores de impresora y archivos PPD.: Hypothesis 3.2: Instalacion de controladores de impresora y archivos PPD Hypothesis 3.3: Instalacion de controladores de impresora y archivos PPD Hypothesis 3.4: Instalacion de controladores de impresora y archivos PPD.:.
124:157	User interaction 3 : Hypothesis 3.0 is selected and the user accepts the target sentence.
125:157	Final hypothesis: Instalacion de controladores de impresora y archivos PPD.
126:157	4.3 Translation quality evaluation The assessment of the techniques presented in section 3 has been carried out using three measures: 1.
127:157	Translation Word Error Rate (TWER): It is defined as the minimum number of word substitution, deletion and insertion operations to convert the target sentence provided by the transducer into the reference translation.
128:157	Also known as edit distance.
129:157	2.
130:157	Character Error Rate (CER): Edit distance in terms of characters between the target sentence provided by the transducer and the reference translation.
131:157	3.
132:157	Key-Stroke Ratio (KSR): Number of keystrokes that are necessary to achieve the reference translation plus the acceptance keystroke divided by the number of running characters.
133:157	4.
134:157	BiLingual Evaluation Understudy (BLEU) (Papineni et al. , 2002): Basically is a function of the k-substrings that appear in the hypothesized target sentence and in the reference target sentence.
135:157	These experiments were perfomed with 3gram transducers based on the GIATI technique.
136:157	On the leftmost column appears the language pair employed for each experiment, English (En), Spanish (Es), French (Fr) and German (De).
137:157	The main two central columns compare the results obtained with 1-best translation to 5-best translations.
138:157	When using 5-best translations, that target sentence out of these five, that minimizes most the correspondent error measure is selected.
139:157	The results are shown in Table 2.
140:157	The best results were obtained between English and Spanish language pairs, in which the human translator would need to type less than 25% of the total reference sentences.
141:157	In other words, this would result in a theoretically factor of 4 increase in the productivity of human translators.
142:157	In fact, preliminary subjective evaluations have received positive feedback from professional translators when testing the prototype.
143:157	Table 2: Results for the Xerox Corpus comparing 1-best to 5-best translations 3-gram (1-best) 3-gram (5-best) RAW KSR CER TWER KSR CER TWER En-Es 26.0 29.1 42.3 23.4 24.4 37.2 Es-En 27.4 33.1 50.1 24.1 24.9 42.7 En-Fr 53.7 55.4 77.5 49.3 48.7 70.5 Fr-En 54.0 55.6 74.2 49.9 49.4 68.8 En-De 59.4 61.2 82.4 54.0 54.7 76.6 De-En 52.6 60.3 77.9 48.0 53.4 72.7 Furthermore, in all cases there is a clear and significant improvement in error measures when moving from 1 to 5-best translations.
144:157	This gain in translation quality dimishes in a log-wise fashion as the number of best translations increases.
145:157	However, the number of hypotheses should be limited to the user capability to skim through the candidate translations and decide on which one to select.
146:157	Table 3 presents the results obtained on a simplified version of the corpus.
147:157	This simplification consists on tokenization, case normalization and the substitution of numbers, printer codes, etc. by their correspondent category labels.
148:157	Table 3: Results for the Xerox Corpus comparing 1-best to 5-best translations 3-gram (1-best) 3-gram (5-best) SIM WER CER BLEU WER CER BLEU En-Es 31.8 24.7 0.67 26.8 20.3 0.71 Es-En 34.3 27.8 0.62 27.0 20.4 0.69 En-Fr 64.2 48.8 0.43 57.2 42.8 0.45 Fr-En 59.2 48.5 0.42 53.6 42.5 0.45 En-De 72.1 55.3 0.32 65.8 49.1 0.35 De-En 64.7 53.9 0.36 58.4 47.7 0.39 Pair of languages as English and French presents somewhat higher error rates, as is also the case between English and German, reflecting the complexity of the task faced in these experiments.
149:157	5 Conclusions and future work Finite-state transducers have been successfully applied to CAT.
150:157	These models can be learnt from parallel corpora.
151:157	The concept of interactive search has been introduced in this paper along with some efficient techniques (word graph derivation and a16 best) that solve the parsing problem given a prefix of the target sentence under real-time constraints.
152:157	The results show that the 5-best approach clearly improves the quality of the translations, with respect to the 1-best approximation.
153:157	The promising results achieved in the first experiments provide a new field in machine translation still to be explored, in which the human expertise is combined with machine translation techniques to increase productivity without sacrifying high-quality translation.
154:157	Finally, the introduction of morpho-syntactic information or bilingual categories in finite-state transducers, are topics that leave an open door to future research.
155:157	As well as some improvements in the search algorithms to reduce the computational cost of finding a path in the word graph with the minimum edit cost.
156:157	Acknowledgments The authors would like to thank all the reasearchers involved in the TT2 project who have contributed to the development of the methodologies presented in this paper.
157:157	This work has been supported by the European Union under the IST Programme (IST-200132091).

