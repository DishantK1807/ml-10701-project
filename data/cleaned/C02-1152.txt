Ecient Dialogue Strategy to Find Users' Intended Items from Information Query Results Kazunori Komatani Tatsuya Kawahara Ryosuke Ito Hiroshi G.
Okuno Graduate School of Informatics, Kyoto University Kyoto 606-8501, Japan fkomatani, kawahara, rito, okunog@kuis.kyoto-u.ac.jp Abstract Weaddressadialogueframeworkthatnarrows downtheuser'squeryresultsobtainedbyaninformationretrievalsystem.
Thefollow-updialoguetoconstrainqueryresultsissigni cantespeciallywiththespeechinterfacessuchastelephonesbecausealotofqueryresultscannotbe presented to the user.
The proposed dialogue frameworkgeneratesguidingquestionsbasedon an information theoretic criterion to eliminate retrieved candidates by a spontaneous query withoutassumingasemanticslotstructure.
We rstdescribeitsconceptongeneralinformation query tasks, and then deal with a query task ontheappliancemanualwherestructuredtask knowledgeisavailable.
Ahierarchical con rmation strategyisproposedbymakinguseofatree structure of the manual, and then three cost functions for selecting optimal question nodes arecompared.
Experimentalevaluationdemonstrates that the proposed system helps users ndtheirintendeditemsmoreeciently.
1 Introduction
In the past years, a great number of spoken dialogue systems have been developed.
Their typicaltaskdomainsincludeairlineinformation (Levin et al., 2000;; Potamianos et al., 2000;; San-Segundoetal.,2000)andtraininformation (Allenetal.,1996;;Bennacefetal.,1996;;Sturm etal.,1999;; Lameletal.,1999). Mostofthem modelspeechunderstandingprocessasconvertingrecognitionresultsintosemanticrepresentationsequivalenttodatabasequery(SQL)commands,anddialogueprocessasdisambiguating theirun xedslots.
Usually,thesemanticslots arede nedaprioriandmanually.
Theapproach isworkableonlywhendatastructureoftheapplication is well-organized typically as a relationaldatabase(RDB).
Dierent and more exible approach is needed for spoken dialogue interfaces to accessinformationdescribedinlessrigidformat, in particular normal text database.
For the purpose,informationretrieval(IR)techniqueis usefulto ndalistofmatchingdocumentsfrom the input query.
Typically, keywords are extractedfromthequeryandstatisticalmatching is performed.
Call routing task (Chu-Carroll and Carpenter, 1998) can be regarded as the specialcase.
In IR systems, many candidates are usually obtainedasa queryresult, thusthere isa signi cant problem of how to nd the user's intendeditemamongthem.
Especially,eitheron the telephone or electrical appliances, there is notalargescreendisplayingthecandidates,and all the query results cannot bepresented to a user.
Soitisdesirableforthesystemtonarrow downthequeryresultsinteractively.
Moreover, interactivequeryismorefriendlytonoviceusers ratherthanrequiringthemtoinputadetailed queryfromthebeginning.
In this paper, we address a dialogue strategy to nd the user's intended item from the retrieved result, which is initiated by a spontaneous query utterance.
In section 2, we describeamethodtogenerateaguidingquestion thatnarrowsdownthequeryresultseciently, using an example of a restaurant query task.
The question is selected based on an informationtheoreticcriterion.
Insection3,wepresent adialoguemanagementmethodforaquerytask ontheappliancemanualwherestructuredtask knowledge is available.
We propose a con rmationstrategybymakinguseofatreestructureofthemanual,andde nethreecostfunctionsforselectingquestionnodes.
Themethod isevaluatedbythenumberofaveragedialogue turns.
Although there are previous studies on optimizing dialogue strategies (Niimi and Kobayashi, 1996;; Levin et al., 1997;; Litman et al., 2000), most of them assume the tasks of llingsemantic slots that are de nitelyand manually de ned, and few focus on follow-up dialogueofinformationretrieval.
Forexample, (Denecke,1997)proposedamethodtogenerate guidingquestionsbymakinguseofatreestructure constructed by unifying retrieved items based on semantic slots.
In this paper, we do notassumeanystructureofsemanticslots.
Instead,wemakeuseofdistributionofdocument statisticsorastructureoftaskknowledge.
We also investigate cost functionsfor optimaldialogue control by taking into account of speech recognitionerrors.
2 Dialogue
Strategy in General Information Query Task Interactioninaninformationquerytaskcanbe regarded as a process seeking a common part between the user's request and system knowledge.
In order to help users to nd their intended items from the system knowledge, the system has to carry out not only interpreting what users say but also showing the relevant portionofthesystemknowledgetothem.
We assume that users freely set and retract querykeys based ontheirpreference for informationquerysystems.
Ifmanycandidatesstill remainevenafterspecifyingallpossiblehis/her preferencetothesystem, usersmayhave diculty in narrowing down further the query result.
Thus,thesystemshouldgenerateecient guiding questions to help users nd their intendeditems.
Inthissection,wepresumethesystemknowledgeasapairofanitemandasetofkeywords (Figure 1).
We de ne keywords as a set of words representing contents of the items, and their categories such as place, food and so on aregiven.
Thisissimilartoindexingwordsin aconventionalinformationretrievaltask.
Note thatitisnotneededthatthesystemknowledge isstructuredlikeanRDB.
Keywords are extracted from a user's utterance,andarematchedwiththesystemknowledge.
Here, we adopt the following matching   RestaurantA Chinesenoodles,meatdumpling, Shinjuku,Kabukicho,Ekoda RestaurantB Chinesenoodles,meatdumpling, Shinjuku,Kabukicho, RestaurantC Chinesenoodles,meatdumpling, noodleswithboiled-pork-ribs, Takadanobaba RestaurantD Chinesenoodles,friedgarlic,Yebisu...
  Figure1: Anexampleofsystemknowledge functionforeachitemj.
L j = X i2K j  CM i log N df i  Here,K j isasetofkeywordsforitemj.
CM i is a con dence measure of speech recognition for keyword i (KomataniandKawahara,2000), N isthetotalnumberofitems,anddf i isthenumber of items including keyword i.
Intuitively, keywordthatisrecognizedwithhighcon dence anddoesnotappearinmanyitemsgetshigher likelihoodL j by CM i and df i,respectively.
Then, we de neamount of informationthat is obtained when the system generates yes/no questionandtheuseranswersit.
Here, C isa current query condition, A is a condition that isaddedbythesystem'squestion,andcount(x) is the numberof items that satisfy the condition x.
The conditionconsists of the conjunctionofthekeywordstheuserspeci ed.
Suppose each item occurs by equal likelihood, the followingequationdenotesthelikelihoodp 0 (A yes ) that the yes/no question corresponding to the addingcondition A willbeansweredas\yes".
p 0 (A yes )= count(C \A) count(C) We weight on each item j with the likelihood L j . p(A yes )= P j2fC\Ag L j P j2fCg L j The amount of information that is obtained when the user's answer is \yes" is represented asfollows.
I(A yes )=log 2 1 p(A yes ) The following equation gives H(A), the expected value of amount of information that is obtained by generating a question about condition A and getting user's answer (\yes" or \no").
H(A)= X x2fyes;;nog p(A x )log 2 1 p(A x ) By calculating H(A) for all conditions A that can be added to the current query condition, thesystemgeneratesthequestionthathasthe maximumvalueof H(A).
Thequestionisgenerated using the category information of each keyword.
Becausetheobtainedcondition A isselected by a viewpointof narrowingdown the current set of items eciently, the selected condition maybeunimportantfortheuser.
Insuchacase, it isnot cooperative to force the user an armativeornegativereply.
Oursystemdoesnot forcethereluctantdecisionbyallowingtheuser to say \It doesnot matter anyhow.".
Instead, thesystempresentsthesecondbestproposal.
Weexplainthemethodwiththefollowingexample in our restaurant query system in the Tokyoarea.Whenausersays,\Pleasetellmea restaurantwhereIcaneatChinesenoodleand meat dumpling in Shinjuku area.", three keywordsareextracted: \Shinjuku",\Chinesenoodle"and \meat dumpling".
Asa resultof the matchingusingthesethreekeywords,11query results are obtained.
It is not cooperative to readoutallofthe11queryresultswithaTTS (text-to-speech)system.
Here,theexpectedvalues of amount of information H(A) are calculatedforeachconditionthatcorrespondstokeywordsincludedinthematcheditemsexceptfor thethreekeywords,\Shinjuku",\Chinesenoodle"and\meatdumpling".
Then,weselectthe keyword \noodles with boiled-pork-ribs" that hasthemaximumvalueH(A).
Bygeneratinga questionlike\Wouldyoulikeonewhichserves noodleswithboiled-pork-ribs?",andobtaining areplyfromtheuser,thesystemaddsthenew conditionandnarrowsdownthecandidatesefciently.
If the user thinks that the condition \noodles with boiled-pork-ribs" is not important and tells the system so (for example \Eitherwilldo."),thesystemcanshowthesecond best proposal, \Would you like one located in Kabukichoarea?".
Thus, the queryresultcan benarroweddownwithoutforcingtheuserunnaturalyes/noanswers.
3 Dialogue
Strategy for Query on Appliance Manuals Inthissection,wepresentanotherecientsolutioninthecasethatthestructureorhierarchy of task knowledge is available.
The task here is to nd the appropriate item in the manual ofelectricapplianceswithaspokendialogueinterface.
Suchaninterfacewillbeusefulasthe recent appliances become complex with many features and so are their manuals.
In the appliances such as VTR (Video Tape Recorder) andFAX machines, thereisnota largescreen todisplaythelistofmatchedcandidatestobe selected by the user.
Therefore, we address a spokendialoguestrategytodeterminethemost appropriateonefromthelistofcandidates.
Analternativesystemdesignistheuseofdirectory search, as adopted in voice portal systems, where the documents are hierarchically structuredandthesystempromptsuserstoselect one of the menu from the top to the leaf.
Themethodisrigidandnotuser-friendlysince users often have trouble in selection and want to specify by their own expression.
The proposedsystemallowsuserstomakequeriesspontaneouslyandmakesuseofthedirectorystructureinthefollow-updialoguetodeterminethe mostappropriateone.
3.1 System
Overview AnoverviewofthesystemisillustratedinFigure2.
Itconsistsoffollowingprocesses. 1.
KeywordspottingfromuserutterancesusinganASR(automaticspeechrecognition) system(Kawaharaetal.,1998) A natural spoken language query is acceptedandkeywordsareextracted.
Acondence measure CM i is assigned to each keyword i basedontheN-bestrecognition result(KomataniandKawahara,2000).
yes/no system user manual tree structure entries keyword spotting matching follow-up dialogue keywords with confidence entries with likelihood result spoken query Figure2: Systemoverview 2.
Matchingwithmanualitems(documents) Theextractedkeywordsarematchedwith a set of manual items.
The matching is performedontheinitialportion(indexand rst summary paragraph) of each manual section.
We adopt thefollowingmatching scorefunctionforanitem j.
K j isasetof keywordsforitem j.
L j = 1 n j X i2K j (CM i log N df i ) Here, df i isthenumberofitemsthatcontainkeyword i referredasadocumentfrequencyandN isthetotalnumberofitems.
The inverse document frequency (idf) is weighted with a con dence measure CM i andsummedover keywords, then normalizedby n j,thenumberofkeywordsinthe item j.
3. Generatingdialoguetodeterminethemost appropriateonefromthelistofcandidates As a result of the matching, many candidatesareusuallyfound.
Theymayinclude irrelevant ones because of speech recognitionerrors.
Butitisnotpracticaltoread outalloftheminorderwithaTTS(textto-speech) system.
Therefore, dialogue is invoked to narrow down to the intended one.
Thisdialogueisrestrictedtosysteminitiated \yes/no" questions in order to play record search setting normal play slow play .............
Figure3: Exampleoftreestructureofmanual avoid furtherrecognitionerrors and backup dialogue.
The dialogue strategy is explainedinthenextsubsection.
3.2 Dialogue
Strategy using Structure of Manual Ifoneofthecandidatesismoreplausiblethan others with a signi cant margin, we should makecon rmationonit.
Whentherearemany candidates with similar con dence and they canbehierarchicallygroupedintoseveralcategories, we hadbetter rstidentifywhichcategorytheintendedonebelongsto.
Inthiswork, wemakeuseofthesectionstructureofthemanual,i.e.
sectionisthe rstlayer,sub-sectionis thesecond-layer,andsoon.
Thetreestructure is automatically derived from its table of contents.
AnexampleforVTRmanualisshownin Figure3.
For each node of the tree, likelihood L 0 j is assignedasfollows.
 For a leaf node, the matching score L j is assignedafternormalizingsothatthesum overallleaves(manualitems)is1.0.
 Fora non-leafnode, thesumofthelikelihoodofitschildrennodesisassigned.
Then,adialogueisgeneratedasfollows.
1. Among ancestor nodes of the leaf of the largestlikelihoodL 0 j,pickuptheonewhose heuristic cost function described below is smallest.
2. Makea\yes/no"questiononthenode,for example\Doyouwanttoknowabout...?".
The content of the question is associated withthesectiontitle.
3. Iftheuser'sansweris\yes",eliminatethe nodes other than descendants of the con0.4 0.1 0 0.1 0.2 0.2 0 0 0.5 0.1 0.4 0 0.6 0.4 0.40.10 00000 0.5 0 0 0 0.5 0 0 0 0 0.1 0.2 0.2 0 0 0 0.1 0.4 0 0.1 0.4 "Yes" "No" leaf with best score selected by cost function generate a "yes-no" question on selected node Figure4: Useofmanualstructureandcostfunctionfordialoguecontrol rmednode.
Ifthe answer is\no", eliminatealldescendantsofthedeniednode.
4. Repeattheprocessuntilonlyonenode(or lessthanathreshold )remains.
TheaboveprocessesareillustratedinFigure4. Wede nefollowingthreeheuristiccostfunctionsinordertorealizeanecientdialogue.
 h 1 (j)=jL 0 j ;0:5j ThismakesaquestiononthemostambiguousnodewhoselikelihoodL 0 j interpretedas aposterioriprobabilityiscloseto0.5.
 h 2 (j) = L 0 j  Node j (yes) + (1 ; L 0 j )  Node j (no) Here, Node j is the number of remaining nodes when the answer is \yes" or \no".
Thisfunctiontakestheapproximatenumberoffollowingquestionsintoaccount.
 h 3 (j) = L 0 j  Ques j (yes) + (1 ; L 0 j )  Ques j (no)+1 Ques j istheestimatednumberoftimesof questionsneededwhentheansweris\yes" or\no".
Itiscomputedrecursivelybyexpandingthesub-tree,andisassignedwith 0 when the numberof remaining nodes is under a threshold ().
This  means the numberofcandidatesthatcanbepresented tousers.
Here,weset=3.
Theseareexperimentallycomparedinthenext subsection.
3.3 Experimental
Evaluation 3.3.1 Task and System Implementation The proposed system is implemented for the query task on a VTR manual that consists of 111pagesand47items.
Thederivedtreestructureisofthreelevels.
Thenumberofkeywords usedformatchingis137.
Thespeechrecognitionsystemisbasedonour largevocabularycontinuousspeechrecognition engine Julius (Lee et al., 2001).
The language modelisinitiallybasedona nitestate grammarandextendedtocombinestatisticalmodels derived from the domain-speci c corpus (Komatani et al., 2001), that is the manual text in this task.
The acoustic model is a genderdependent phonetic tied-mixture (PTM) triphonemodel(Leeetal.,2000)trainedwiththe 40-hourJNASspeechcorpus.
Forcollectingevaluationdata,wehad14subjectsandeachmade10queriesongivenscenarios(querysentencesarenotgiven),andseveral spontaneous querieswithoutany scenarios.
In total, we had 195 query utterances, of which Table1: Evaluationresultwithtextinput #matchedcandidates 12.4 querysuccessrate 93% averagerankofcorrectitem (#turnsbybaseline) 3.2 #turnsby h 1 h 2 h 3 proposedcostfunctions 2.4 2.5 2.8 157couldbecopedwiththegivenmanual,thus usedasthetest-set.
Samplequeriesare\Iwant tochangetherecordingreservation".
and\Can IwatchTVwhilerecordinganotherprogram?" Asforevaluationmeasures,we rstcompute therateofquerysuccesswherethecorrectmanualitemiscontainedinthecandidatelistbythe initialmatching.
Then,thesystemisevaluated by the necessary dialogue turns equivalent to thenumberofquestionsbeforethecorrectitem is identi ed.
It is compared with the baseline casewherethecandidatesarepresentedtothe userinorderofthematchingscore L j andthe number of dialogue turns is equivalent to the rankofthecorrectitem.
3.3.2 Evaluation
with Text Input At rst,thesystemisevaluatedwithtextinput, which is transcription of the collected queries.
TheresultisshowninTable1. Ontheaverage, thematchingresultconsists of12.4candidatesandcontainscorrectonefor 93%ofthetractablequeries.
Theaveragerank of the correct item is 3.2, which means, if we make con rmation in order of the matching score L j, we need 3.2 turns on the average.
Withdialoguebasedontheheuristiccostfunctions,itcanbereducedto2.4(h 1 ),2.5(h 2 )and 2.8(h 3 ),respectively.
We have not yet identi ed the reason why performance by the apparently most accurate function h 3 is not good.
We conjuncture that the dierence of the cost functions does not matter so much in this framework as long as theyarereasonable.
3.3.3 Evaluation
with Speech Input Next, we made experiments using the spoken queriesandthespeechrecognitionsystem.
The distributionof recognized keywords and correspondingcon dencemeasuresisshowninTable 2.
TheprecisionforthekeywordswithhighconTable3: Evaluationresultwithspeechinput #matchedcandidates 13.3 querysuccessrate 87% averagerankofcorrectitem (#turnsbybaseline) 4.1 #turnsby h 1 h 2 h 3 proposedcostfunctions 2.9 2.9 3.2 dencemeasuresisbetter, thusthecon dence measure works well.
Summaryof the result is giveninTable3.
Theaveragenumberofmatcheditemsis13.3 andthesuccessrateis87%.
Somedegradation from the case of text input is observed.
The averagerankofthecorrectitemis4.1.
Forreference,ifwedonotusethecon dencemeasure CM i,the gureis4.4,whichveri estheeectof thecon dencemeasure.
Theproposeddialogue strategy with either heuristic function reaches thecorrectoneinaround3turns,whichis30% reductioncomparedwiththebaseline.
Itshouldbenoticedthat,althoughtheinitial matching accuracy is lowered with the speech input,theimprovementbytheproposedstrategyislargerandthenumberofdialogueturns isclosetothetext-inputcase.
Theresultconrms that the proposed framework is eective inspeechinterface.
4 Conclusion
We present a method to generate guiding utterances for narrowing down users' query resultsobtained by an informationretrieval system.
Byselectingthemostecientitem,thedialogueisrestrictedtosystem-initiated\yes/no" questions.
Wehaveevaluatedourmethodwith a query task on the appliance manual where structured task knowledge is available.
The numberofaveragedialogueturnsisreducedby about30%comparedwithabaselinemethodin whichthecandidatesarecon rmedaccordingto theirmatchingscores.
Thisresultdemonstrates thattheproposedsystemhelpsusers ndtheir intendeditemsmoreeciently.

