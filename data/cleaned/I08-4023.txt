HMMandCRF Based Hybrid Model for Chinese Lexical Analysis
G27G48G4aG48G51G3G2bG58G44G51G4aGfG3G3bG4cG44G52G3G36G58G51GfG3G36G4bG4cG47G52G58G3G2dG4cG44G52GfG3G2fG4cG56G4bG58G44G51G4aG3G2fG4cGfG3G3dG4bG58G52G5cG48G3G27G4cG51G4aGfG3G35G58G3G3aG44G51G3
G18G11eG189G19aG358G3G17dG128G3G12G17dG175G189G1b5G19aG11eG18cG3G5eG110G15dG11eG176G110G11eG3G102G176G11aG3G1cG176G150G15dG176G11eG11eG18cG15dG176G150G355G3G18G102G16fG15dG102G176G3G68G176G15dG1c0G11eG18cG190G15dG19aG1c7G3G17dG128G3G64G11eG110G15aG176G17dG16fG17dG150G1c7G358G3G3
G18G102G16fG15dG102G176G355G3G3eG15dG102G17dG176G15dG176G150G355G3G3edG3edG3f2G3ecG3eeG3efG3
huangdg@dlut.edu.cn,suntian@gmail.com,jiaoshidou@gmail.com,
computer@dlut.edu.cn,dingzhuoye@sina.com,wanrulove@sina.com
Abstract
This paper presents the Chinese lexical
analysis systems developed by Natural
Language Processing Laboratory at Dalian
University of Technology, which were
evaluated in the 4th International Chinese
Language Processing Bakeoff. The HMM
and CRF hybrid model, which combines
character-based model with word-based
model in a directed graph, is adopted in
system developing. Both the closed and
open tracks regarding to Chinese word
segmentation, POS tagging and Chinese
NamedEntity Recognition are involvedin
our systems’ evaluation, and good per-
formance are achieved. Especially, in the
open track of Chinese word segmentation
onSXU,oursystemranks1st.
1 Introduction
Chinese presents a significant challenge since it is
typically written without separations between
words.Word segmentation has thus long beenthe
focusofsignificantresearchbecauseofitsroleasa
necessary pre-processing phase forthe tasks above.
Meanwhile,the POS tagging and Chinese Named
Entity Recognitionare also the basic steps inChi-
nese lexical analysis. Several promising methods
are proposed by previous researchers. Intradition,
the Chinese word segmentation technologies can
be categorized into three types, rule-based, ma-
chine learning,andhybrid. Among them,the ma-
chine learning-based techniques showed excellent
performance inmany researchstudies (Peng et al.,
2004; Zhou et al., 2005; Gao et al., 2004). This
methodtreats the wordsegmentationproblem as a
sequence of word classification. The classifier
online assigns either “boundary” or “non-
boundary” label toeachwordby learning from the
large annotated corpora. Machine learning-based
wordsegmentationmethod is adopted in the word
sequence inference techniques, such as part-of-
speech(POS) tagging,phrases chunking (Wuet al.,
2006a) and named entity recognition (Wu et al.,
2006b).But there are some cost problems insuch
machine learning problems,andsometimes choose
betweenword-basedandcharacter basedis also a
dilemma.
In our system, we present a hybrid model for
Chinese word segmentation, POS tagging and
namedentity recognitionbasedonHMM andCRF
model.The core of the modelisa directedsegmen-
tation graphbased onthe maximum matching and
second-maximum matching model.Inthe directed
graph,the HMM model andCRF model are com-
bined, the HMM model is used to process the
known words (words in system dictionary); CRF
modelisadoptedtoprocesstheunknownword,the
cost problem can be solved. Meanwhile, for the
CRF model, the character-based CRF model and
word-basedmodel are integratedunder the frame-
work of the directed segmentation graph, so the
integrative CRF model canbe more flexible torec-
ognize both the simple and complex Chinese
Named Entity with high precision. With the di-
rectedsegmentationgraph, Chinese wordsegmen-
tation, POS tagging and Chinese Named Entity
recognitioncanbeaccomplishedsimultaneously.
133
Sixth SIGHAN Workshop on Chinese Language Processing
2 SystemDescription
With the maximum matching and second-
maximum matching (MMSM) model, CRF model,
andseveral post processing strategies, our systems
are established.First the MMSM model is applied,
based on the system dictionary the original
directedsegmentationgraphis set up.The directed
graph is composed by the known words from the
system dictionary, which are regarded as the
candidate word of the segmentation result. Then
some candidate Chinese Named Entity
Recognition automata search the directed graph,
andfindout the candidate Chinese NamedEntities
into the directed graph based on some generation
rules. Then the CRF is applied to the candidate
Chinese Named Entities to determine if they are
real Chinese NamedEntities that shouldbe added
into the directedgraph. During this procedure,the
character-based CRF and word-based CRF are
respectively applied to the simple and complex
ChineseNamedEntities recognition.
In the following section,the Chinese wordseg-
mentation, POS tagging andChinese namedentity
recognitioninopentrackwillbemainlydiscussed.
2.1 The
maximum matching and second-
maximummatchingmodel
The maximum matching and second-maximum
matching(MMSM) model,whichis a segmentation
method that keeps the maximum and second-
maximum segmentationresult from a certainposi-
tion in a sentence, and store the candidate segmen-
tationresults ina directedgraph,thensome decod-
ing algorithm is adopted tofind the best path in the
directedgraph.Withthe MMSM model,almost all
the possible segmentation paths and most lexical
information can be reserved for further use; little
space cost is guaranteed by using the directed
graphtostore the segmentationpaths; the context
spaces are extended from single-dimension to
multi-dimension.
2.2 ConditionalRandom
Fields
Conditional random field(CRF) was anextension
of both Maximum Entropy Model (MEMs) and
Hidden Markov Models (HMMs) that was firstly
introducedby (Lafferty et al.,2001). CRF defined
conditional probability distributionP(Y|X) of given
sequence given input sentence where Y is the
“class label” sequence and X denotes as the
observationwordsequence.
A CRF on(X,Y) is specifiedby a feature vector F
of local context and the corresponding feature
weight λ.The F canbe treated as the combination
of state transition and observation value in
conventional HMM. To determine the optimal
label sequence, the CRF uses the following
equationtoestimatethemostprobability.
Conditional random fields (CRFs) are undirected
graphical modelstrainedto maximize a conditional
probability (Lafferty et al., 2001). A linear-chain
CRF with parameters },,{ 21 Lλλ=Λ defines a
conditional probability for a state sequence
Tyyy K1= , given that and input sequence
Txxx K1= is




= ∑∑
=
−Λ
T
t k
ttkk
x
txyyfZxyP
1
1 ),,,(exp
1)|( λ
Where xZ is the normalization factor that makes
the probability of all state sequences sum to one;
),,,( 1 txyyf ttk − is ofen a binary-valued feature
function and kλ is its weight. The feature
functions can measure any aspect of a state
transition, tt yy →−1 , and the entire observation
sequence, x, centered at the current time step, t.
For example,one feature functionmight have the
value 1whenyt-1 is the state B,yt is the state I,and
xtissomeChinese character.
2.3 ChineseNamedEntityRecognition
First,we will introduce our Chinese NamedEntity
Recognitionpart for the Opentrack.Several NER
automata are adoptedtofindout all the candidate
NEs inthe directedgraph, thenthe CRF model is
appliedtofilter the candidate NEs tocheck if the
specified NE should be added into the graph. To
use the CRF,first,we generate some lists from the
training corpus.
PSur: the surnameofPersonName.
PC: the frequency information of a character in
PersonName
PPre: theprefixofPersonName
PSuf: the suffixofPersonName
LF: the frequency information of a character in
LocalName
LC:thecentrecharacterof LocalName
LPre: the prefixofLocalName
134
Sixth SIGHAN Workshop on Chinese Language Processing
LSuf:the suffixofLocalName
OF: the frequency informationof a character in
ORGName
OC:the centrecharacterof ORGName
OPre: theprefixofORGName
OSuf: thesuffixofORGName
Wedefinethe template as follows:
PER: PSur(n)PC(n) PPre(n)PSuf(n), (n = -2,-1,
0,+1,+2)
LOC: LF(n)LC(n)LPre(n)LSuf(n),(n= -2,-1,0,
+1,+2)
ORG: OF(n)OC(n)OPre(n)OSuf(n),(n = -2, -1,
0,+1,+2)
Withthe CRF we filter the candidate NEs. The
candidate NEs are filtered and added into the di-
rectedsegmentationgraphas new nodes withnew
edges.The NEs includes personal name(PRE),lo-
cationname(LOC)andorganizationname(ORG).
The “PER”,”LOC” inopen track is the same as
inthe close track except some external resources.
The external resources include external lexicon,
name list for word segmentation, and generating
the features.
In the “ORG” part, a different method is pro-
posed.We adopt anautomatic recognitionmethod
of Chinese organization name with the combina-
tionof SVM andMaximum Entropy.SVM model
is usedtodecide the latter boundary of a organiza-
tionname,andthenMaximum Entropy is usedto
confirmtheformerboundary.
First, a characteristic dictionary is collected
from the training corpus. As for the words ap-
pearedinthe characteristic dictionary,whether it is
the characteristic word of an organization name
shouldbe decided.As a problem oftwovalue cate-
gorization,SVMis appliedtocompletethis task.If
itis consideredtobe acharacteristic word, thenthe
former boundary of an organization name is de-
tected. Maximum Entropy can combine different
kinds of text information,andsolve the problem of
the recognitionof the more complexformer words
of the Chinese organization name, so the Maxi-
mum Entropy is adopted to confirm the former
boundary of ORG.During the NEs recognition and
filtering the word and POS tag as main features
andadoptacontextwindowoffivewords.
Because of the complexconstructionof the Chi-
neseNamedEntity,onesinglestatisticalmodelcan
not solve simple andcomplexNER simultaneously,
such as the character-based CRF model makes
lower recognition accuracy for complex NERs,
meanwhile, the word-based CRF model will lose
many useful features in processing simple NERs.
Integrating the character-based and word-based
CRF model intoone framework is the key tosolve
all theNERssimultaneously.
In this paper, an integrative model based on
CRF is proposed. With the preliminary results of
the segmentation and POS tagging, at the bottom
of the system, character-based CRF is applied to
recognized simple PERs, LOCs, and ORGs; The
recognition result will be transformedto the top of
the system together with the segmentation and
POS tagging result. At the top of system, word-
based CRF is used to recognize the nested LOCs
and ORGs. The character-based model and word
basedmodel are integrated intoone framework to
recognition the NEs with different complexions
simultaneously. The identification results of the
bottom-level provide decisionsupport for the high-
level, the limitations of the separated character-
based model and word-based model are avoided,
andimprovesrecognitionaccuracyofthesystem.
2.4 Result
from thedirected graph
After the recognition and filtering of the Chinese
Named Entity, the original segmentation directed
graph is now with the candidate Chinese Named
Entity nodes. Some decoding algorithm is needed
tofindfinal pathfrom the directedgraph.Here, we
revisedthe Dijkstra minimum cost pathalgorithm
to find out the minimum cost path from the di-
rected graph. The calculation of the cost of the
nodes and edges in the directed graph can be found
in our related work(Degen Huang and Xiao Sun,
2007).Thefinal pathfrom the directedgraphisthe
result for the Chinese word segmentation, POS
taggingandChineseNamedEntityrecognition.
3 EvaluationsandExperimentalResults
3.1 ResultofChinese
wordsegmentation
We evaluated our Chinese word segmentation
model inthe opentrack onall the simple Chinese
corpus, such as University of Colorado, United
States (CTB, 642246 tokens), State Language
Commission of P.R.C.,Beijing(NCC, 917255 to-
kens) and Shanxi University, Taiyuan (SXU
528238 tokens). The OOV-rate is 0.0555, 0.0474
and0.0512.
135
Sixth SIGHAN Workshop on Chinese Language Processing
TheCTB opentrack is showninthe following
table 1.We get the third position inthe CTB track
bytheFresult.
Table 1.CTBopentrackresult
CTB R P F
Base 0.8864 0.8427 0.8640
Top 0.9710 0.9825 0.9767
Our 0.9766 0.9721 0.9743
IV-R IV-P IV-F
Base 0.9369 0.8579 0.8956
Top 0.9698 0.9832 0.9764
Our 0.9805 0.9794 0.9800
OOV-R OOV-P OOV-F
Base 0.9920 0.9707 0.9812
Top 0.0273 0.1858 0.0476
Our 0.9089 0.8553 0.8813
The NCC opentrack is showninthe following
table 2. In the NCC open track, we get the third
positiontrackbytheF result.
Table 2.NCCopentrackresult
NCC R P F
Base 0.9200 0.8716 0.8951
Top 0.9735 0.9817 0.9776
Our 0.9620 0.9496 0.9557
IV-R IV-P IV-F
Base 0.9644 0.8761 0.9181
Top 0.9725 0.9850 0.9787
Our 0.9783 0.9569 0.9675
OOV-R OOV-P OOV-F
Base 0.0273 0.1858 0.0476
Top 0.9933 0.9203 0.9554
Our 0.7109 0.7619 0.7355
The SXU opentrack is shownin the following
table 3. Inthe SXU opentrack,we get the first two
positionsbytheFresult.
Table 3.NCCopentrackresult
NCC R P F
Base 0.9238 0.8679 0.8949
Top 0.9820 0.9867 0.9844
Our 0.9768 0.9703 0.9735
IV-R IV-P IV-F
Base 0.9723 0.8789 0.9232
Top 0.9813 0.9890 0.9851
Our 0.9872 0.9767 0.9820
OOV-R OOV-P OOV-F
Base 0.0251 0.0867 0.0389
Top 0.9942 0.9480 0.9705
Our 0.7825 0.8415 0.8109
We also participate in the close track in CTB,
NCC andSXU corpus.The result is showninthe
following table4.
Table 4.SegmentationResult inclosetrack
R P F Foov Fiv
CTB 0.9505 0.9528 0.9517 0.7216 0.9659
NCC 0.9387 0.9301 0.9344 0.5643 0.9524
SXU 0.9594 0.9493 0.9543 0.6676 0.9697
3.2 ResultofChineseNER
We evaluated our named entity recognizer on
the SIGHAN Microsoft Research Asia(MSRA)
corpusinbothclosedandopentrack.
Table 5.NERinMSRAclosedtrack:
Close R P F
PER 90.29% 95.19% 92.68%
LOC 81.85% 92.78% 86.97%
ORG 70.16% 84.05% 76.48%
Overall 80.58% 91.07% 85.5%
Table 6.NERinMSRAopentrack:
Open R P F
PER 92.06% 95.17% 93.59%
LOC 83.62% 94.24% 88.62%
ORG 74.04% 79.66% 75.65%
Overall 82.38% 90.38% 86.19%
3.3 Resultof
POS tagging
The POS tagging result of our system is shownin
the followingtable7.
Table 7.POStagginginclosetrack
Close Total-A IV-R OOV-R MT-R
CTB 0.9088 0.9374 0.4866 0.8805
NCC 0.9313 0.9604 0.4080 0.8809
PKU 0.9053 0.9451 0.2751 0.8758
136
Sixth SIGHAN Workshop on Chinese Language Processing
Table8.POStagginginopentrack
Open Total-A IV-R OOV-R MT-R
CTB 91.2% 93.74% 53.61% 88.05%
NCC 93.26% 96.04% 43.36% 88.09%
PKU 93.29% 95.18% 63.32% 89.72%
4 ConclusionsandFutureWork
Inthis paper,the hybridmodel inour system is
described,Anintegrative lexical analysis system is
implemented,whichcompletes all the steps of the
lexical analysis synchronously, by integrating the
segmentation,ambiguous resolution,POS tagging,
unknown words recognition into one theory
framework.The integrative mechanism reduces the
conflicts betweenthe steps of the lexical analysis.
The experimental results demonstrate that,the in-
tegrative model andits algorithm is effective.The
system used the automata recognition and CRF-
basedhybridmodel toprocess the Chinese Named
Entity. The Chinese wordsegmentation,POS tag-
ging and Chinese Named Entity recognition are
integrated; the character-based CRF and word-
based CRF are integrated, the HMM, CRF and
other statistic model are integratedunder the same
segmentation framework.Withthis model we par-
ticipated in the “The Fourth SIGHAN Bakeoff”
andgotgoodperformance.
References
Degen, Huang and Xiao An Integrative Approach to
Chinese NamedEntity Recognition, In Proceedings of
the 6th International Conference on Advanced Lan-
guage Processing and Web Information Technology.
Gao, J., Wu, A., Li, M., Huang, C. N., Li, H., Xia, X.,
and Qin, H. 2004. Adaptive Chinese word segmenta-
tion. In Proceedings the 41st Annual Meeting of the
Association for Computational Linguistics, pp. 21-
26.
Lafferty, J., McCallum, A., and Pereira, F. 2001. Condi-
tional Random Field: Probabilistic models for seg-
menting and labeling sequence data. In Proceedings
of the International Conference on Machine Learn-
ing.
Lance A. Ramshaw and Mitchell P. Marcus. 1995. Text
chunking using transformation-based learning. In
Proceedings of the 3rd Workshop on Very Large
Corpora, pages 82-94. Nocedal, J., and Wright, S.
1999. Numerical optimization. Springer.
Peng, F., Feng, F., and McCallum, A. 2004. Chinese
segmentation and new word detection using condi-
tional random fields. In Porceedings of the Computa-
tional Linguistics, pp. 562-568.
Shi, W. 2005. Chinese Word Segmentation Based On
Direct Maximum Entropy Model. In Proceedings of
the Fourth SIGHAN Workshop on Chinese Language
Processing.
Wu, Y. C., Chang, C. H. and Lee, Y. S. 2006a. A gen-
eral and multi-lingual phrase chunking model based
on masking method. Lecture Notes in Computer Sci-
ence (LNCS): Computational Linguistics and Intelli-
gent Text Processing, 3878: 144-155.
Wu, Y. C., Fan, T. K., Lee Y. S. and Yen, S. J. 2006b.
Extracting named entities using support vector ma-
chines," Lecture Notes in Bioinformatics (LNBI):
Knowledge Discovery in Life Science Literature,
(3886): 91-103.
Wu, Y. C., Lee, Y. S., and Yang, J. C. 2006c. The Ex-
ploration of Deterministic and Efficient Dependency
Parsing. In Proceedings of the 10th Conference on
Natural Language Learning (CoNLL).
137
Sixth SIGHAN Workshop on Chinese Language Processing

